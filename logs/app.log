2026-01-25 14:31:48,587 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:31:48,827 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:31:50,873 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:32:17,274 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:32:17,315 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:32:17,333 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:32:28,802 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:32:28,887 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:32:28,903 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:32:40,242 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:32:40,278 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:32:40,290 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:33:03,987 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:33:04,024 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:33:04,070 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:33:04,110 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:33:04,157 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:33:04,185 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:33:15,121 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:33:15,156 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:33:15,196 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:33:15,199 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:33:15,229 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:33:15,233 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:33:30,801 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:33:30,833 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:33:30,872 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:33:30,892 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:33:30,922 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:33:30,953 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:33:45,018 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:33:45,035 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:33:45,042 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:33:45,068 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:33:45,149 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:33:45,168 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:33:54,259 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:33:54,289 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:33:54,293 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:33:54,300 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:33:54,327 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:33:54,335 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:34:11,210 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:34:11,238 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:34:11,244 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:34:11,261 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:34:11,285 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:34:11,293 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:34:36,195 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:34:36,237 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:34:36,285 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:34:36,317 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:34:36,320 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:34:36,355 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:34:46,272 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:34:46,280 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:34:46,308 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:34:46,313 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:34:46,320 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:34:46,344 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:35:10,246 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:35:10,316 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:36:30,778 - nl2sql - INFO - endpoints.py:14 - Incoming query: What are the compliance violations in the last 30 days? | Domain: risk
2026-01-25 14:36:30,784 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 14:36:30,791 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: risk | Query: What are the compliance violations in the last 30 days?
2026-01-25 14:36:30,798 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 14:36:32,822 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 0....
2026-01-25 14:36:32,825 - nl2sql - INFO - intent_classification.py:81 - Classification Result: SELECT (conf: 0.95) | Needs Clarification: False
2026-01-25 14:36:32,829 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.95) | Needs Clarification: False
2026-01-25 14:36:32,912 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-01-25 14:36:32,912 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: risk | Query: What are the compliance violations in the last 30 days?
2026-01-25 14:36:32,922 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the risk doma...
2026-01-25 14:36:33,928 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: Error: The database schema does not contain inform...
2026-01-25 14:36:33,932 - nl2sql - WARNING - sql_generation.py:69 - SQL Generation guidance response for query: What are the compliance violations in the last 30 days? | Msg: Error: The database schema does not contain inform...
2026-01-25 14:36:33,935 - nl2sql - INFO - workflow.py:63 - SQL Generated: Error: The database schema does not contain inform...
2026-01-25 14:36:33,941 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 14:36:33,943 - nl2sql - WARNING - workflow.py:71 - SQL Validation Error: Invalid expression / Unexpected token. Line 1, Col: 19.
  Error: The [4mdatabase[0m schema does not contain information about compliance violations. Try asking about: users, transacti
2026-01-25 14:36:33,951 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a SQL expert. The following SQLite query ...
2026-01-25 14:36:35,089 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```sqlite
SELECT * FROM audit_logs WHERE timestamp...
2026-01-25 14:36:35,092 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 14:36:35,096 - nl2sql - WARNING - workflow.py:71 - SQL Validation Error: Invalid expression / Unexpected token. Line 2, Col: 6.
  ite
[4mSELECT[0m * FROM audit_logs WHERE timestamp >= strftime('%Y-%m-%d %H:%M:%S', date('now', '-30 days'));
2026-01-25 14:36:35,106 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a SQL expert. The following SQLite query ...
2026-01-25 14:36:36,046 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT * FROM audit_logs WHERE timestamp >= strfti...
2026-01-25 14:36:36,052 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 14:36:36,069 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-01-25 14:36:36,075 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT * FROM audit_logs WHERE timestamp >= strftime('%Y-%m-%d %H:%M:%S', date('now', '-30 days'));
2026-01-25 14:36:36,078 - nl2sql - ERROR - database.py:67 - DATABASE EXECUTION ERROR: (sqlite3.OperationalError) no such column: timestamp
[SQL: SELECT * FROM audit_logs WHERE timestamp >= strftime('%Y-%m-%d %H:%M:%S', date('now', '-30 days'));]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT * FROM audit_logs WHERE timestamp >= strftime('%Y-%m-%d %H:%M:%S', date('now', '-30 days'));
2026-01-25 14:36:36,078 - nl2sql - INFO - workflow.py:92 - Query execution returned 0 rows.
2026-01-25 14:36:36,082 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: What are the compliance violations in the last 30 days?
2026-01-25 14:36:36,091 - nl2sql - INFO - endpoints.py:48 - Query success! 0 rows returned.
2026-01-25 14:37:06,792 - nl2sql - INFO - endpoints.py:14 - Incoming query: show the compliace violations | Domain: risk
2026-01-25 14:37:06,797 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 14:37:06,801 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: risk | Query: show the compliace violations
2026-01-25 14:37:06,803 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 14:37:07,744 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 0....
2026-01-25 14:37:07,744 - nl2sql - INFO - intent_classification.py:81 - Classification Result: SELECT (conf: 0.9) | Needs Clarification: True
2026-01-25 14:37:07,751 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.9) | Needs Clarification: True
2026-01-25 14:37:07,801 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a helpful assistant helping clarify datab...
2026-01-25 14:37:08,739 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: Could you please specify the time range you'd like...
2026-01-25 14:37:08,742 - nl2sql - INFO - endpoints.py:24 - Graph execution status: needs_clarification for query: show the compliace violations
2026-01-25 14:37:18,698 - nl2sql - INFO - endpoints.py:14 - Incoming query: last year | Domain: risk
2026-01-25 14:37:18,699 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 14:37:18,705 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: risk | Query: last year
2026-01-25 14:37:18,705 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 14:37:19,792 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 0....
2026-01-25 14:37:19,792 - nl2sql - INFO - intent_classification.py:81 - Classification Result: SELECT (conf: 0.95) | Needs Clarification: False
2026-01-25 14:37:19,795 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.95) | Needs Clarification: False
2026-01-25 14:37:19,850 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-01-25 14:37:19,853 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: risk | Query: last year
2026-01-25 14:37:19,857 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the risk doma...
2026-01-25 14:37:20,989 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: Error: Your request is not clear. Please specify w...
2026-01-25 14:37:20,992 - nl2sql - WARNING - sql_generation.py:69 - SQL Generation guidance response for query: last year | Msg: Error: Your request is not clear. Please specify w...
2026-01-25 14:37:20,995 - nl2sql - INFO - workflow.py:63 - SQL Generated: Error: Your request is not clear. Please specify w...
2026-01-25 14:37:20,999 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 14:37:21,004 - nl2sql - WARNING - workflow.py:71 - SQL Validation Error: Invalid expression / Unexpected token. Line 1, Col: 19.
  Error: Your [4mrequest[0m is not clear. Please specify which data from the last year you want to query. Try asking about: use
2026-01-25 14:37:21,014 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a SQL expert. The following SQLite query ...
2026-01-25 14:37:22,457 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```sqlite
SELECT * FROM users WHERE strftime('%Y',...
2026-01-25 14:37:22,463 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 14:37:22,469 - nl2sql - WARNING - workflow.py:71 - SQL Validation Error: Invalid expression / Unexpected token. Line 2, Col: 6.
  ite
[4mSELECT[0m * FROM users WHERE strftime('%Y', registration_date) = strftime('%Y', date('now', '-1 year'));
2026-01-25 14:37:22,473 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a SQL expert. The following SQLite query ...
2026-01-25 14:37:23,339 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT * FROM users WHERE strftime('%Y', registrat...
2026-01-25 14:37:23,342 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 14:37:23,355 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-01-25 14:37:23,359 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT * FROM users WHERE strftime('%Y', registration_date) = strftime('%Y', date('now', '-1 year'));
2026-01-25 14:37:23,363 - nl2sql - ERROR - database.py:67 - DATABASE EXECUTION ERROR: (sqlite3.OperationalError) no such column: registration_date
[SQL: SELECT * FROM users WHERE strftime('%Y', registration_date) = strftime('%Y', date('now', '-1 year'));]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT * FROM users WHERE strftime('%Y', registration_date) = strftime('%Y', date('now', '-1 year'));
2026-01-25 14:37:23,367 - nl2sql - INFO - workflow.py:92 - Query execution returned 0 rows.
2026-01-25 14:37:23,373 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: last year
2026-01-25 14:37:23,378 - nl2sql - INFO - endpoints.py:48 - Query success! 0 rows returned.
2026-01-25 14:37:36,265 - nl2sql - INFO - endpoints.py:14 - Incoming query: Show me all high severity incidents and the count | Domain: risk
2026-01-25 14:37:36,269 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 14:37:36,274 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: risk | Query: Show me all high severity incidents and the count
2026-01-25 14:37:36,282 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 14:37:37,203 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 0....
2026-01-25 14:37:37,206 - nl2sql - INFO - intent_classification.py:81 - Classification Result: SELECT (conf: 0.95) | Needs Clarification: False
2026-01-25 14:37:37,207 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.95) | Needs Clarification: False
2026-01-25 14:37:37,277 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-01-25 14:37:37,281 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: risk | Query: Show me all high severity incidents and the count
2026-01-25 14:37:37,283 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the risk doma...
2026-01-25 14:37:38,093 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT severity, COUNT(*) FROM alerts WHERE severi...
2026-01-25 14:37:38,095 - nl2sql - INFO - sql_generation.py:80 - SQL Generated and cleaned: SELECT severity, COUNT(*) FROM alerts WHERE severi...
2026-01-25 14:37:38,095 - nl2sql - INFO - workflow.py:63 - SQL Generated: SELECT severity, COUNT(*) FROM alerts WHERE severi...
2026-01-25 14:37:38,104 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 14:37:38,121 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-01-25 14:37:38,121 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT severity, COUNT(*) FROM alerts WHERE severity = 'HIGH' GROUP BY severity;
2026-01-25 14:37:38,133 - nl2sql - INFO - database.py:60 - Execution complete. Returned 1 rows.
2026-01-25 14:37:38,135 - nl2sql - INFO - workflow.py:92 - Query execution returned 1 rows.
2026-01-25 14:37:38,140 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a data visualization expert. Recommend th...
2026-01-25 14:37:39,460 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "chart_type": "bar",
  "title": "Count...
2026-01-25 14:37:39,468 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: Show me all high severity incidents and the count
2026-01-25 14:37:39,471 - nl2sql - INFO - endpoints.py:48 - Query success! 1 rows returned.
2026-01-25 14:38:48,036 - nl2sql - INFO - endpoints.py:14 - Incoming query: List all open security risks | Domain: risk
2026-01-25 14:38:48,043 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 14:38:48,046 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: risk | Query: List all open security risks
2026-01-25 14:38:48,046 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 14:38:49,236 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 0....
2026-01-25 14:38:49,241 - nl2sql - INFO - intent_classification.py:81 - Classification Result: SELECT (conf: 0.95) | Needs Clarification: False
2026-01-25 14:38:49,245 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.95) | Needs Clarification: False
2026-01-25 14:38:49,308 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-01-25 14:38:49,313 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: risk | Query: List all open security risks
2026-01-25 14:38:49,314 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the risk doma...
2026-01-25 14:38:50,356 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```sql
SELECT alert_id, rule_name, severity, user_...
2026-01-25 14:38:50,360 - nl2sql - INFO - sql_generation.py:80 - SQL Generated and cleaned: SELECT alert_id, rule_name, severity, user_id, tra...
2026-01-25 14:38:50,363 - nl2sql - INFO - workflow.py:63 - SQL Generated: SELECT alert_id, rule_name, severity, user_id, tra...
2026-01-25 14:38:50,370 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 14:38:50,379 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-01-25 14:38:50,383 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT alert_id, rule_name, severity, user_id, transaction_id FROM alerts WHERE status = 'OPEN';
2026-01-25 14:38:50,385 - nl2sql - ERROR - database.py:67 - DATABASE EXECUTION ERROR: (sqlite3.OperationalError) no such column: transaction_id
[SQL: SELECT alert_id, rule_name, severity, user_id, transaction_id FROM alerts WHERE status = 'OPEN';]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT alert_id, rule_name, severity, user_id, transaction_id FROM alerts WHERE status = 'OPEN';
2026-01-25 14:38:50,392 - nl2sql - INFO - workflow.py:92 - Query execution returned 0 rows.
2026-01-25 14:38:50,402 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: List all open security risks
2026-01-25 14:38:50,402 - nl2sql - INFO - endpoints.py:48 - Query success! 0 rows returned.
2026-01-25 14:44:27,327 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:44:27,362 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:44:27,469 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:44:27,507 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:44:28,625 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:44:28,640 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:44:46,166 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:44:46,199 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:44:46,212 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:44:46,216 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:44:46,255 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:44:46,262 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:45:11,892 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:45:11,909 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:45:28,091 - nl2sql - INFO - endpoints.py:14 - Incoming query: Show me all high severity incidents | Domain: security
2026-01-25 14:45:28,098 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 14:45:28,098 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: security | Query: Show me all high severity incidents
2026-01-25 14:45:28,112 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 14:45:29,613 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 0....
2026-01-25 14:45:29,618 - nl2sql - INFO - intent_classification.py:81 - Classification Result: SELECT (conf: 0.95) | Needs Clarification: False
2026-01-25 14:45:29,618 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.95) | Needs Clarification: False
2026-01-25 14:45:29,630 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-01-25 14:45:31,005 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {
    "severity":...
2026-01-25 14:45:31,006 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {'severity': 'HIGH'}
2026-01-25 14:45:31,012 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-01-25 14:45:31,012 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: security | Query: Show me all high severity incidents
2026-01-25 14:45:31,014 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the security ...
2026-01-25 14:45:31,972 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT alert_id, rule_name, user_id, txn_id, detai...
2026-01-25 14:45:31,974 - nl2sql - INFO - sql_generation.py:91 - SQL Generated and cleaned: SELECT alert_id, rule_name, user_id, txn_id, detai...
2026-01-25 14:45:31,974 - nl2sql - INFO - workflow.py:63 - SQL Generated: SELECT alert_id, rule_name, user_id, txn_id, detai...
2026-01-25 14:45:31,978 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 14:45:31,983 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-01-25 14:45:31,987 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT alert_id, rule_name, user_id, txn_id, details FROM alerts WHERE severity = 'HIGH';
2026-01-25 14:45:31,990 - nl2sql - INFO - database.py:60 - Execution complete. Returned 99 rows.
2026-01-25 14:45:31,992 - nl2sql - INFO - workflow.py:92 - Query execution returned 99 rows.
2026-01-25 14:45:31,992 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a data visualization expert. Recommend th...
2026-01-25 14:45:33,573 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "chart_type": "table",
  "title": "Hig...
2026-01-25 14:45:33,578 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: Show me all high severity incidents
2026-01-25 14:45:33,578 - nl2sql - INFO - endpoints.py:48 - Query success! 99 rows returned.
2026-01-25 14:46:01,984 - nl2sql - INFO - endpoints.py:14 - Incoming query: what is this domian speciality | Domain: risk
2026-01-25 14:46:01,992 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 14:46:01,996 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: risk | Query: what is this domian speciality
2026-01-25 14:46:01,996 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 14:46:03,037 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "UNKNOWN",
  "confidence": 0...
2026-01-25 14:46:03,042 - nl2sql - INFO - intent_classification.py:81 - Classification Result: UNKNOWN (conf: 0.3) | Needs Clarification: True
2026-01-25 14:46:03,042 - nl2sql - INFO - workflow.py:24 - Intent classified: UNKNOWN (conf: 0.3) | Needs Clarification: True
2026-01-25 14:46:03,050 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-01-25 14:46:04,380 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {},
  "metadata":...
2026-01-25 14:46:04,384 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-01-25 14:46:04,393 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a helpful assistant helping clarify datab...
2026-01-25 14:46:05,308 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: Could you please tell me which area of the RISK do...
2026-01-25 14:46:05,314 - nl2sql - INFO - endpoints.py:24 - Graph execution status: needs_clarification for query: what is this domian speciality
2026-01-25 14:46:22,141 - nl2sql - INFO - endpoints.py:14 - Incoming query: which table has data related to fruad detection | Domain: risk
2026-01-25 14:46:22,141 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 14:46:22,150 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: risk | Query: which table has data related to fruad detection
2026-01-25 14:46:22,159 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 14:46:23,205 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 0....
2026-01-25 14:46:23,205 - nl2sql - INFO - intent_classification.py:81 - Classification Result: SELECT (conf: 0.95) | Needs Clarification: False
2026-01-25 14:46:23,209 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.95) | Needs Clarification: False
2026-01-25 14:46:23,215 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-01-25 14:46:24,203 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {},
  "metadata":...
2026-01-25 14:46:24,203 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-01-25 14:46:24,213 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-01-25 14:46:24,213 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: risk | Query: which table has data related to fruad detection
2026-01-25 14:46:24,224 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the risk doma...
2026-01-25 14:46:25,299 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: Error: The database schema does not explicitly con...
2026-01-25 14:46:25,301 - nl2sql - WARNING - sql_generation.py:80 - SQL Generation guidance response for query: which table has data related to fruad detection | Msg: Error: The database schema does not explicitly con...
2026-01-25 14:46:25,304 - nl2sql - INFO - workflow.py:63 - SQL Generated: Error: The database schema does not explicitly con...
2026-01-25 14:46:25,310 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 14:46:25,314 - nl2sql - WARNING - workflow.py:71 - SQL Validation Error: Invalid expression / Unexpected token. Line 1, Col: 19.
  Error: The [4mdatabase[0m schema does not explicitly contain a "fraud detection" table. However, the `alerts`, `transactions`
2026-01-25 14:46:25,322 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a SQL expert. The following SQLite query ...
2026-01-25 14:46:26,355 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```sqlite
SELECT DISTINCT tbl_name FROM sqlite_mas...
2026-01-25 14:46:26,360 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 14:46:26,363 - nl2sql - WARNING - workflow.py:71 - SQL Validation Error: Invalid expression / Unexpected token. Line 2, Col: 6.
  ite
[4mSELECT[0m DISTINCT tbl_name FROM sqlite_master WHERE type = 'table' AND tbl_name IN ('alerts', 'transactions'
2026-01-25 14:46:26,371 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a SQL expert. The following SQLite query ...
2026-01-25 14:46:27,222 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT DISTINCT tbl_name FROM sqlite_master WHERE ...
2026-01-25 14:46:27,225 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 14:46:27,238 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-01-25 14:46:27,242 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT tbl_name FROM sqlite_master WHERE type = 'table' AND tbl_name IN ('alerts', 'transactions', 'users', 'login_events');
2026-01-25 14:46:27,245 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 14:46:27,259 - nl2sql - INFO - workflow.py:92 - Query execution returned 4 rows.
2026-01-25 14:46:27,264 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a data visualization expert. Recommend th...
2026-01-25 14:46:28,432 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "chart_type": "table",
  "title": "Tab...
2026-01-25 14:46:28,441 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: which table has data related to fruad detection
2026-01-25 14:46:28,443 - nl2sql - INFO - endpoints.py:48 - Query success! 4 rows returned.
2026-01-25 14:46:46,517 - nl2sql - INFO - endpoints.py:14 - Incoming query: ok what the columns in transcations table | Domain: risk
2026-01-25 14:46:46,524 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 14:46:46,531 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: risk | Query: ok what the columns in transcations table
2026-01-25 14:46:46,534 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 14:46:47,797 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 0....
2026-01-25 14:46:47,797 - nl2sql - INFO - intent_classification.py:81 - Classification Result: SELECT (conf: 0.95) | Needs Clarification: False
2026-01-25 14:46:47,806 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.95) | Needs Clarification: False
2026-01-25 14:46:47,811 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-01-25 14:46:48,659 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {},
  "metadata":...
2026-01-25 14:46:48,662 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-01-25 14:46:48,668 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-01-25 14:46:48,668 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: risk | Query: ok what the columns in transcations table
2026-01-25 14:46:48,678 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the risk doma...
2026-01-25 14:46:49,679 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT transaction_id, user_id, transaction_type, ...
2026-01-25 14:46:49,682 - nl2sql - INFO - sql_generation.py:91 - SQL Generated and cleaned: SELECT transaction_id, user_id, transaction_type, ...
2026-01-25 14:46:49,686 - nl2sql - INFO - workflow.py:63 - SQL Generated: SELECT transaction_id, user_id, transaction_type, ...
2026-01-25 14:46:49,690 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 14:46:49,703 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-01-25 14:46:49,703 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT transaction_id, user_id, transaction_type, instrument, amount, currency, amount_usd, status, flag_reason, payment_method, external_reference, ip_address, created_at, processing_at FROM transactions LIMIT 5
2026-01-25 14:46:49,708 - nl2sql - ERROR - database.py:67 - DATABASE EXECUTION ERROR: (sqlite3.OperationalError) no such column: transaction_id
[SQL: SELECT transaction_id, user_id, transaction_type, instrument, amount, currency, amount_usd, status, flag_reason, payment_method, external_reference, ip_address, created_at, processing_at FROM transactions LIMIT 5]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT transaction_id, user_id, transaction_type, instrument, amount, currency, amount_usd, status, flag_reason, payment_method, external_reference, ip_address, created_at, processing_at FROM transactions LIMIT 5
2026-01-25 14:46:49,715 - nl2sql - INFO - workflow.py:92 - Query execution returned 0 rows.
2026-01-25 14:46:49,727 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: ok what the columns in transcations table
2026-01-25 14:46:49,731 - nl2sql - INFO - endpoints.py:48 - Query success! 0 rows returned.
2026-01-25 14:47:34,240 - nl2sql - INFO - endpoints.py:14 - Incoming query: what are the cloumns in transcation table | Domain: risk
2026-01-25 14:47:34,245 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 14:47:34,248 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: risk | Query: what are the cloumns in transcation table
2026-01-25 14:47:34,255 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 14:47:35,170 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 0....
2026-01-25 14:47:35,173 - nl2sql - INFO - intent_classification.py:81 - Classification Result: SELECT (conf: 0.95) | Needs Clarification: False
2026-01-25 14:47:35,178 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.95) | Needs Clarification: False
2026-01-25 14:47:35,187 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-01-25 14:47:36,069 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {},
  "metadata":...
2026-01-25 14:47:36,071 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-01-25 14:47:36,079 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-01-25 14:47:36,082 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: risk | Query: what are the cloumns in transcation table
2026-01-25 14:47:36,083 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the risk doma...
2026-01-25 14:47:37,061 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: Error: To understand the columns in the `transacti...
2026-01-25 14:47:37,065 - nl2sql - WARNING - sql_generation.py:80 - SQL Generation guidance response for query: what are the cloumns in transcation table | Msg: Error: To understand the columns in the `transacti...
2026-01-25 14:47:37,065 - nl2sql - INFO - workflow.py:63 - SQL Generated: Error: To understand the columns in the `transacti...
2026-01-25 14:47:37,073 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 14:47:37,078 - nl2sql - WARNING - workflow.py:71 - SQL Validation Error: Invalid expression / Unexpected token. Line 1, Col: 20.
  Error: To [4munderstand[0m the columns in the `transactions` table, query a few rows from it, for example using `SELECT * FROM
2026-01-25 14:47:37,087 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a SQL expert. The following SQLite query ...
2026-01-25 14:47:37,882 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT * FROM transactions LIMIT 5;
...
2026-01-25 14:47:37,892 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 14:47:37,900 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-01-25 14:47:37,900 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT * FROM transactions LIMIT 5;
2026-01-25 14:47:37,905 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 14:47:37,911 - nl2sql - INFO - workflow.py:92 - Query execution returned 5 rows.
2026-01-25 14:47:37,914 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a data visualization expert. Recommend th...
2026-01-25 14:47:39,328 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "chart_type": "table",
  "title": "Sam...
2026-01-25 14:47:39,336 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: what are the cloumns in transcation table
2026-01-25 14:47:39,342 - nl2sql - INFO - endpoints.py:48 - Query success! 5 rows returned.
2026-01-25 14:48:05,591 - nl2sql - INFO - endpoints.py:14 - Incoming query: give me only the column names from transaction table | Domain: risk
2026-01-25 14:48:05,600 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 14:48:05,600 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: risk | Query: give me only the column names from transaction table
2026-01-25 14:48:05,606 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 14:48:06,650 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 0....
2026-01-25 14:48:06,656 - nl2sql - INFO - intent_classification.py:81 - Classification Result: SELECT (conf: 0.95) | Needs Clarification: False
2026-01-25 14:48:06,657 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.95) | Needs Clarification: False
2026-01-25 14:48:06,662 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-01-25 14:48:07,591 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {},
  "metadata":...
2026-01-25 14:48:07,595 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-01-25 14:48:07,602 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-01-25 14:48:07,602 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: risk | Query: give me only the column names from transaction table
2026-01-25 14:48:07,611 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the risk doma...
2026-01-25 14:48:08,633 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT transaction_id, user_id, transaction_type, ...
2026-01-25 14:48:08,636 - nl2sql - INFO - sql_generation.py:91 - SQL Generated and cleaned: SELECT transaction_id, user_id, transaction_type, ...
2026-01-25 14:48:08,637 - nl2sql - INFO - workflow.py:63 - SQL Generated: SELECT transaction_id, user_id, transaction_type, ...
2026-01-25 14:48:08,642 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 14:48:08,652 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-01-25 14:48:08,659 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT transaction_id, user_id, transaction_type, instrument, amount, currency, amount_usd, status, flag_reason, payment_method, external_reference, ip_address, created_at, processing_at FROM transactions LIMIT 5;
2026-01-25 14:48:08,662 - nl2sql - ERROR - database.py:67 - DATABASE EXECUTION ERROR: (sqlite3.OperationalError) no such column: transaction_id
[SQL: SELECT transaction_id, user_id, transaction_type, instrument, amount, currency, amount_usd, status, flag_reason, payment_method, external_reference, ip_address, created_at, processing_at FROM transactions LIMIT 5;]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT transaction_id, user_id, transaction_type, instrument, amount, currency, amount_usd, status, flag_reason, payment_method, external_reference, ip_address, created_at, processing_at FROM transactions LIMIT 5;
2026-01-25 14:48:08,668 - nl2sql - INFO - workflow.py:92 - Query execution returned 0 rows.
2026-01-25 14:48:08,678 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: give me only the column names from transaction table
2026-01-25 14:48:08,685 - nl2sql - INFO - endpoints.py:48 - Query success! 0 rows returned.
2026-01-25 14:48:59,713 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:48:59,752 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:48:59,760 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:48:59,794 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:49:00,741 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:49:00,762 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:49:12,558 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:49:12,572 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:49:12,597 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:49:12,600 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:49:12,616 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:49:12,640 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:49:28,389 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 14:49:28,405 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 14:51:28,161 - nl2sql - INFO - endpoints.py:14 - Incoming query: What columns are in the transactions table? | Domain: general
2026-01-25 14:51:28,169 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 14:51:28,169 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: general | Query: What columns are in the transactions table?
2026-01-25 14:51:28,182 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 14:51:29,965 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SCHEMA_QUERY",
  "confidenc...
2026-01-25 14:51:29,969 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SCHEMA_QUERY (conf: 1.0) | Needs Clarification: False
2026-01-25 14:51:29,969 - nl2sql - INFO - workflow.py:24 - Intent classified: SCHEMA_QUERY (conf: 1.0) | Needs Clarification: False
2026-01-25 14:51:29,982 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-01-25 14:51:30,888 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {},
  "metadata":...
2026-01-25 14:51:30,890 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-01-25 14:51:30,909 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
        You are a Database Expert. The user wants...
2026-01-25 14:51:34,336 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: Okay, here's a breakdown of the columns within the...
2026-01-25 14:51:34,341 - nl2sql - INFO - endpoints.py:24 - Graph execution status: needs_clarification for query: What columns are in the transactions table?
2026-01-25 14:56:25,353 - nl2sql - INFO - endpoints.py:14 - Incoming query: Show me all high severity incidents | Domain: general
2026-01-25 14:56:25,360 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 14:56:25,363 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: general | Query: Show me all high severity incidents
2026-01-25 14:56:25,369 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 14:56:27,665 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 0....
2026-01-25 14:56:27,668 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 0.95) | Needs Clarification: False
2026-01-25 14:56:27,672 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.95) | Needs Clarification: False
2026-01-25 14:56:27,678 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-01-25 14:56:28,771 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {
    "severity":...
2026-01-25 14:56:28,771 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {'severity': 'HIGH'}
2026-01-25 14:56:28,783 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-01-25 14:56:28,788 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: general | Query: Show me all high severity incidents
2026-01-25 14:56:28,796 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the general d...
2026-01-25 14:56:29,755 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT * FROM alerts WHERE severity = 'HIGH';
...
2026-01-25 14:56:29,757 - nl2sql - INFO - sql_generation.py:91 - SQL Generated and cleaned: SELECT * FROM alerts WHERE severity = 'HIGH';...
2026-01-25 14:56:29,760 - nl2sql - INFO - workflow.py:63 - SQL Generated: SELECT * FROM alerts WHERE severity = 'HIGH';...
2026-01-25 14:56:29,762 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 14:56:29,782 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-01-25 14:56:29,784 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT * FROM alerts WHERE severity = 'HIGH';
2026-01-25 14:56:29,797 - nl2sql - INFO - database.py:60 - Execution complete. Returned 99 rows.
2026-01-25 14:56:29,801 - nl2sql - INFO - workflow.py:92 - Query execution returned 99 rows.
2026-01-25 14:56:29,809 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a data visualization expert. Recommend th...
2026-01-25 14:56:31,466 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "chart_type": "table",
  "title": "Hig...
2026-01-25 14:56:31,466 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: Show me all high severity incidents
2026-01-25 14:56:31,478 - nl2sql - INFO - endpoints.py:48 - Query success! 99 rows returned.
2026-01-25 14:59:54,949 - nl2sql - INFO - endpoints.py:14 - Incoming query: Show operational metrics for last quarter | Domain: general
2026-01-25 14:59:54,957 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 14:59:54,962 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: general | Query: Show operational metrics for last quarter
2026-01-25 14:59:54,965 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 14:59:56,164 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 0....
2026-01-25 14:59:56,166 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 0.95) | Needs Clarification: False
2026-01-25 14:59:56,170 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.95) | Needs Clarification: False
2026-01-25 14:59:56,179 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-01-25 14:59:57,228 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {},
  "metadata":...
2026-01-25 14:59:57,233 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-01-25 14:59:57,241 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-01-25 14:59:57,245 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: general | Query: Show operational metrics for last quarter
2026-01-25 14:59:57,252 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the general d...
2026-01-25 14:59:58,621 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: Error: The database schema does not contain specif...
2026-01-25 14:59:58,624 - nl2sql - WARNING - sql_generation.py:80 - SQL Generation guidance response for query: Show operational metrics for last quarter | Msg: Error: The database schema does not contain specif...
2026-01-25 14:59:58,628 - nl2sql - INFO - workflow.py:63 - SQL Generated: Error: The database schema does not contain specif...
2026-01-25 14:59:58,633 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 14:59:58,633 - nl2sql - WARNING - workflow.py:71 - SQL Validation Error: Invalid expression / Unexpected token. Line 1, Col: 19.
  Error: The [4mdatabase[0m schema does not contain specific tables or columns for operational metrics. Try asking about: users
2026-01-25 14:59:58,648 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a SQL expert. The following SQLite query ...
2026-01-25 15:00:00,009 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```sqlite
SELECT
  COUNT(T.transaction_id)
FROM tr...
2026-01-25 15:00:00,013 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 15:00:00,021 - nl2sql - WARNING - workflow.py:71 - SQL Validation Error: Invalid expression / Unexpected token. Line 2, Col: 6.
  ite
[4mSELECT[0m
  COUNT(T.transaction_id)
FROM transactions AS T
WHERE
  T.timestamp BETWEEN date('now', '-3 months
2026-01-25 15:00:00,030 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a SQL expert. The following SQLite query ...
2026-01-25 15:00:00,983 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT
  COUNT(transaction_id)
FROM transactions
W...
2026-01-25 15:00:00,991 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 15:00:00,996 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-01-25 15:00:00,996 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT
  COUNT(transaction_id)
FROM transactions
WHERE
  timestamp BETWEEN date('now', '-3 months') AND date('now');
2026-01-25 15:00:01,012 - nl2sql - ERROR - database.py:67 - DATABASE EXECUTION ERROR: (sqlite3.OperationalError) no such column: transaction_id
[SQL: SELECT
  COUNT(transaction_id)
FROM transactions
WHERE
  timestamp BETWEEN date('now', '-3 months') AND date('now');]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT
  COUNT(transaction_id)
FROM transactions
WHERE
  timestamp BETWEEN date('now', '-3 months') AND date('now');
2026-01-25 15:00:01,020 - nl2sql - INFO - workflow.py:92 - Query execution returned 0 rows.
2026-01-25 15:00:01,033 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: Show operational metrics for last quarter
2026-01-25 15:00:01,036 - nl2sql - INFO - endpoints.py:48 - Query success! 0 rows returned.
2026-01-25 15:01:43,658 - nl2sql - INFO - endpoints.py:14 - Incoming query: what are you capabitliies | Domain: security
2026-01-25 15:01:43,664 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 15:01:43,666 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: security | Query: what are you capabitliies
2026-01-25 15:01:43,671 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 15:01:44,794 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SCHEMA_QUERY",
  "confidenc...
2026-01-25 15:01:44,794 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SCHEMA_QUERY (conf: 0.95) | Needs Clarification: False
2026-01-25 15:01:44,802 - nl2sql - INFO - workflow.py:24 - Intent classified: SCHEMA_QUERY (conf: 0.95) | Needs Clarification: False
2026-01-25 15:01:44,812 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-01-25 15:01:45,754 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {},
  "metadata":...
2026-01-25 15:01:45,760 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-01-25 15:01:45,768 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
        You are a Database Expert. The user wants...
2026-01-25 15:02:04,766 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: Okay, here's a breakdown of the database schema an...
2026-01-25 15:02:04,766 - nl2sql - INFO - endpoints.py:24 - Graph execution status: needs_clarification for query: what are you capabitliies
2026-01-25 15:03:56,788 - nl2sql - INFO - endpoints.py:14 - Incoming query: ok show me good visaulization of user queries | Domain: security
2026-01-25 15:03:56,792 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 15:03:56,792 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: security | Query: ok show me good visaulization of user queries
2026-01-25 15:03:56,803 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 15:03:58,007 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "UNKNOWN",
  "confidence": 0...
2026-01-25 15:03:58,009 - nl2sql - INFO - intent_classification.py:82 - Classification Result: UNKNOWN (conf: 0.6) | Needs Clarification: True
2026-01-25 15:03:58,012 - nl2sql - INFO - workflow.py:24 - Intent classified: UNKNOWN (conf: 0.6) | Needs Clarification: True
2026-01-25 15:03:58,015 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-01-25 15:03:59,013 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {},
  "metadata":...
2026-01-25 15:03:59,013 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-01-25 15:03:59,028 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a helpful assistant helping clarify datab...
2026-01-25 15:04:00,270 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: What kind of user queries are you interested in vi...
2026-01-25 15:04:00,274 - nl2sql - INFO - endpoints.py:24 - Graph execution status: needs_clarification for query: ok show me good visaulization of user queries
2026-01-25 15:04:05,442 - nl2sql - INFO - endpoints.py:14 - Incoming query: signups | Domain: security
2026-01-25 15:04:05,446 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 15:04:05,446 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: security | Query: signups
2026-01-25 15:04:05,452 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 15:04:06,433 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 0....
2026-01-25 15:04:06,433 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 0.8) | Needs Clarification: True
2026-01-25 15:04:06,441 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.8) | Needs Clarification: True
2026-01-25 15:04:06,442 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-01-25 15:04:07,596 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {},
  "metadata":...
2026-01-25 15:04:07,601 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-01-25 15:04:07,635 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a helpful assistant helping clarify datab...
2026-01-25 15:04:08,842 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: What time range are you interested in for signups ...
2026-01-25 15:04:08,846 - nl2sql - INFO - endpoints.py:24 - Graph execution status: needs_clarification for query: signups
2026-01-25 15:04:14,462 - nl2sql - INFO - endpoints.py:14 - Incoming query: daily | Domain: security
2026-01-25 15:04:14,469 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 15:04:14,469 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: security | Query: daily
2026-01-25 15:04:14,478 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 15:04:15,403 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 0....
2026-01-25 15:04:15,409 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 0.9) | Needs Clarification: False
2026-01-25 15:04:15,412 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.9) | Needs Clarification: False
2026-01-25 15:04:15,415 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-01-25 15:04:16,513 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {},
  "metadata":...
2026-01-25 15:04:16,517 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-01-25 15:04:16,526 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-01-25 15:04:16,531 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: security | Query: daily
2026-01-25 15:04:16,536 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the security ...
2026-01-25 15:04:17,516 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: Error: Please specify what information about "dail...
2026-01-25 15:04:17,525 - nl2sql - WARNING - sql_generation.py:80 - SQL Generation guidance response for query: daily | Msg: Error: Please specify what information about "dail...
2026-01-25 15:04:17,525 - nl2sql - INFO - workflow.py:63 - SQL Generated: Error: Please specify what information about "dail...
2026-01-25 15:04:17,533 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 15:04:17,536 - nl2sql - WARNING - workflow.py:71 - SQL Validation Error: Invalid expression / Unexpected token. Line 1, Col: 21.
  Error: Please [4mspecify[0m what information about "daily" you want to retrieve. Try asking about: users, transactions, alerts,
2026-01-25 15:04:17,542 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a SQL expert. The following SQLite query ...
2026-01-25 15:04:18,388 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT * FROM daily;
...
2026-01-25 15:04:18,392 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 15:04:18,401 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-01-25 15:04:18,405 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT * FROM daily;
2026-01-25 15:04:18,409 - nl2sql - ERROR - database.py:67 - DATABASE EXECUTION ERROR: (sqlite3.OperationalError) no such table: daily
[SQL: SELECT * FROM daily;]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT * FROM daily;
2026-01-25 15:04:18,411 - nl2sql - INFO - workflow.py:92 - Query execution returned 0 rows.
2026-01-25 15:04:18,421 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: daily
2026-01-25 15:04:18,427 - nl2sql - INFO - endpoints.py:48 - Query success! 0 rows returned.
2026-01-25 15:05:55,067 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 15:05:55,069 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 15:05:55,087 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 15:05:55,096 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 15:05:57,630 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 15:05:57,655 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 15:06:29,047 - nl2sql - INFO - endpoints.py:14 - Incoming query: What are the compliance violations in the last 30 days? | Domain: security
2026-01-25 15:06:29,063 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 15:06:29,063 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: security | Query: What are the compliance violations in the last 30 days?
2026-01-25 15:06:29,073 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 15:06:34,603 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: {
  "intent": "SELECT",
  "confidence": 0.98,
  "c...
2026-01-25 15:06:34,603 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 0.98) | Needs Clarification: False
2026-01-25 15:06:34,603 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.98) | Needs Clarification: False
2026-01-25 15:06:34,613 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-01-25 15:07:43,838 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {},
  "metadata":...
2026-01-25 15:07:43,840 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-01-25 15:07:43,852 - nl2sql - INFO - endpoints.py:14 - Incoming query: Show me all high severity incidents | Domain: security
2026-01-25 15:07:43,862 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 15:07:43,864 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: security | Query: Show me all high severity incidents
2026-01-25 15:07:43,869 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 15:07:46,647 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: {
  "intent": "SELECT",
  "confidence": 1.0,
  "co...
2026-01-25 15:07:46,651 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 1.0) | Needs Clarification: False
2026-01-25 15:07:46,651 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 1.0) | Needs Clarification: False
2026-01-25 15:07:46,659 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-01-25 15:07:50,609 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: {
  "resolved_entities": {
    "severity": "HIGH"
...
2026-01-25 15:07:50,612 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {'severity': 'HIGH'}
2026-01-25 15:07:50,656 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-01-25 15:07:50,660 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: security | Query: What are the compliance violations in the last 30 days?
2026-01-25 15:07:50,663 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the security ...
2026-01-25 15:08:04,005 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT * FROM alerts WHERE created_at >= datetime(...
2026-01-25 15:08:04,005 - nl2sql - INFO - sql_generation.py:91 - SQL Generated and cleaned: SELECT * FROM alerts WHERE created_at >= datetime(...
2026-01-25 15:08:04,005 - nl2sql - INFO - workflow.py:63 - SQL Generated: SELECT * FROM alerts WHERE created_at >= datetime(...
2026-01-25 15:08:04,011 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 15:08:04,012 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-01-25 15:08:04,016 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: security | Query: Show me all high severity incidents
2026-01-25 15:08:04,016 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the security ...
2026-01-25 15:08:08,595 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT alert_id, rule_name, user_id, severity, sta...
2026-01-25 15:08:08,595 - nl2sql - INFO - sql_generation.py:91 - SQL Generated and cleaned: SELECT alert_id, rule_name, user_id, severity, sta...
2026-01-25 15:08:08,600 - nl2sql - INFO - workflow.py:63 - SQL Generated: SELECT alert_id, rule_name, user_id, severity, sta...
2026-01-25 15:08:08,604 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 15:08:08,612 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-01-25 15:08:08,612 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT * FROM alerts WHERE created_at >= datetime('now', '-30 days');
2026-01-25 15:08:08,626 - nl2sql - INFO - database.py:60 - Execution complete. Returned 161 rows.
2026-01-25 15:08:08,627 - nl2sql - INFO - workflow.py:92 - Query execution returned 161 rows.
2026-01-25 15:08:08,633 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a data visualization expert. Recommend th...
2026-01-25 15:08:17,826 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: {
  "chart_type": "table",
  "title": "Compliance ...
2026-01-25 15:08:17,828 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-01-25 15:08:17,828 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT alert_id, rule_name, user_id, severity, status, created_at FROM alerts WHERE severity = 'HIGH';
2026-01-25 15:08:17,833 - nl2sql - INFO - database.py:60 - Execution complete. Returned 99 rows.
2026-01-25 15:08:17,835 - nl2sql - INFO - workflow.py:92 - Query execution returned 99 rows.
2026-01-25 15:08:17,837 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a data visualization expert. Recommend th...
2026-01-25 15:08:28,807 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: {
  "chart_type": "table",
  "title": "High Severi...
2026-01-25 15:08:28,813 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: What are the compliance violations in the last 30 days?
2026-01-25 15:08:28,815 - nl2sql - INFO - endpoints.py:48 - Query success! 161 rows returned.
2026-01-25 15:08:28,831 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: Show me all high severity incidents
2026-01-25 15:08:28,834 - nl2sql - INFO - endpoints.py:48 - Query success! 99 rows returned.
2026-01-25 15:10:34,976 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 15:10:34,976 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 15:10:35,079 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 15:10:35,088 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 15:10:37,328 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 15:10:37,352 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 15:10:37,375 - nl2sql - INFO - endpoints.py:14 - Incoming query: What are the compliance violations in the last 30 days? | Domain: general
2026-01-25 15:10:37,378 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 15:10:37,381 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: general | Query: What are the compliance violations in the last 30 days?
2026-01-25 15:10:37,387 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 15:10:39,260 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 1....
2026-01-25 15:10:39,261 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 1.0) | Needs Clarification: False
2026-01-25 15:10:39,262 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 1.0) | Needs Clarification: False
2026-01-25 15:10:39,262 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-01-25 15:10:39,802 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {},
  "metadata":...
2026-01-25 15:10:39,803 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-01-25 15:10:39,808 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-01-25 15:10:39,809 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: general | Query: What are the compliance violations in the last 30 days?
2026-01-25 15:10:39,812 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the general d...
2026-01-25 15:10:40,925 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT DISTINCT alert_rules.rule_name FROM alerts ...
2026-01-25 15:10:40,928 - nl2sql - INFO - sql_generation.py:91 - SQL Generated and cleaned: SELECT DISTINCT alert_rules.rule_name FROM alerts ...
2026-01-25 15:10:40,928 - nl2sql - INFO - workflow.py:63 - SQL Generated: SELECT DISTINCT alert_rules.rule_name FROM alerts ...
2026-01-25 15:10:40,928 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 15:10:40,933 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-01-25 15:10:40,933 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT alert_rules.rule_name FROM alerts JOIN alert_rules ON alerts.rule_id = alert_rules.rule_id WHERE alerts.severity IN ('HIGH', 'CRITICAL') AND alerts.creation_timestamp >= date('now', '-30 days')
2026-01-25 15:10:40,938 - nl2sql - ERROR - database.py:67 - DATABASE EXECUTION ERROR: (sqlite3.OperationalError) no such column: alerts.creation_timestamp
[SQL: SELECT DISTINCT alert_rules.rule_name FROM alerts JOIN alert_rules ON alerts.rule_id = alert_rules.rule_id WHERE alerts.severity IN ('HIGH', 'CRITICAL') AND alerts.creation_timestamp >= date('now', '-30 days')]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT DISTINCT alert_rules.rule_name FROM alerts JOIN alert_rules ON alerts.rule_id = alert_rules.rule_id WHERE alerts.severity IN ('HIGH', 'CRITICAL') AND alerts.creation_timestamp >= date('now', '-30 days')
2026-01-25 15:10:40,938 - nl2sql - INFO - workflow.py:92 - Query execution returned 0 rows.
2026-01-25 15:10:40,942 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: What are the compliance violations in the last 30 days?
2026-01-25 15:10:40,942 - nl2sql - INFO - endpoints.py:48 - Query success! 0 rows returned.
2026-01-25 15:11:16,772 - nl2sql - INFO - endpoints.py:14 - Incoming query: Show operational metrics for last quarter | Domain: general
2026-01-25 15:11:16,772 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 15:11:16,780 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: general | Query: Show operational metrics for last quarter
2026-01-25 15:11:16,783 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 15:11:17,543 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 1....
2026-01-25 15:11:17,545 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 1.0) | Needs Clarification: False
2026-01-25 15:11:17,545 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 1.0) | Needs Clarification: False
2026-01-25 15:11:17,551 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-01-25 15:11:18,305 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {},
  "metadata":...
2026-01-25 15:11:18,307 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-01-25 15:11:18,312 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-01-25 15:11:18,316 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: general | Query: Show operational metrics for last quarter
2026-01-25 15:11:18,316 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the general d...
2026-01-25 15:11:19,089 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: Error: Cannot determine "operational metrics" from...
2026-01-25 15:11:19,092 - nl2sql - WARNING - sql_generation.py:80 - SQL Generation guidance response for query: Show operational metrics for last quarter | Msg: Error: Cannot determine "operational metrics" from...
2026-01-25 15:11:19,096 - nl2sql - INFO - workflow.py:63 - SQL Generated: Error: Cannot determine "operational metrics" from...
2026-01-25 15:11:19,098 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 15:11:19,105 - nl2sql - WARNING - workflow.py:71 - SQL Validation Error: Invalid expression / Unexpected token. Line 1, Col: 23.
  Error: Cannot [4mdetermine[0m "operational metrics" from the provided schema. Try asking about: users, transactions, login_events
2026-01-25 15:11:19,112 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a SQL expert. The following SQLite query ...
2026-01-25 15:11:19,973 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT COUNT(*) FROM login_events WHERE event_time...
2026-01-25 15:11:19,978 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 15:11:19,991 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-01-25 15:11:19,991 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT COUNT(*) FROM login_events WHERE event_timestamp >= date('now', '-3 months')
2026-01-25 15:11:19,997 - nl2sql - ERROR - database.py:67 - DATABASE EXECUTION ERROR: (sqlite3.OperationalError) no such column: event_timestamp
[SQL: SELECT COUNT(*) FROM login_events WHERE event_timestamp >= date('now', '-3 months')]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT COUNT(*) FROM login_events WHERE event_timestamp >= date('now', '-3 months')
2026-01-25 15:11:19,997 - nl2sql - INFO - workflow.py:92 - Query execution returned 0 rows.
2026-01-25 15:11:20,005 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: Show operational metrics for last quarter
2026-01-25 15:11:20,009 - nl2sql - INFO - endpoints.py:48 - Query success! 0 rows returned.
2026-01-25 15:11:42,012 - nl2sql - INFO - endpoints.py:14 - Incoming query: show me operation metrics all | Domain: general
2026-01-25 15:11:42,016 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 15:11:42,025 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: general | Query: show me operation metrics all
2026-01-25 15:11:42,030 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 15:11:42,981 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 0....
2026-01-25 15:11:42,983 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 0.9) | Needs Clarification: False
2026-01-25 15:11:42,983 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.9) | Needs Clarification: False
2026-01-25 15:11:42,992 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-01-25 15:11:43,743 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {},
  "metadata":...
2026-01-25 15:11:43,746 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-01-25 15:11:43,749 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-01-25 15:11:43,754 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: general | Query: show me operation metrics all
2026-01-25 15:11:43,754 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the general d...
2026-01-25 15:11:44,353 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: Error: "operation metrics" is too vague. Try askin...
2026-01-25 15:11:44,355 - nl2sql - WARNING - sql_generation.py:80 - SQL Generation guidance response for query: show me operation metrics all | Msg: Error: "operation metrics" is too vague. Try askin...
2026-01-25 15:11:44,355 - nl2sql - INFO - workflow.py:63 - SQL Generated: Error: "operation metrics" is too vague. Try askin...
2026-01-25 15:11:44,363 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 15:11:44,363 - nl2sql - WARNING - workflow.py:71 - SQL Validation Error: Invalid expression / Unexpected token. Line 1, Col: 29.
  Error: "operation metrics" [4mis[0m too vague. Try asking about: transactions, login_events, alerts.
2026-01-25 15:11:44,371 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a SQL expert. The following SQLite query ...
2026-01-25 15:11:45,078 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT * FROM transactions UNION ALL SELECT * FROM...
2026-01-25 15:11:45,082 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 15:11:45,095 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-01-25 15:11:45,098 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT * FROM transactions UNION ALL SELECT * FROM login_events UNION ALL SELECT * FROM alerts
2026-01-25 15:11:45,102 - nl2sql - ERROR - database.py:67 - DATABASE EXECUTION ERROR: (sqlite3.OperationalError) SELECTs to the left and right of UNION ALL do not have the same number of result columns
[SQL: SELECT * FROM transactions UNION ALL SELECT * FROM login_events UNION ALL SELECT * FROM alerts]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT * FROM transactions UNION ALL SELECT * FROM login_events UNION ALL SELECT * FROM alerts
2026-01-25 15:11:45,104 - nl2sql - INFO - workflow.py:92 - Query execution returned 0 rows.
2026-01-25 15:11:45,115 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: show me operation metrics all
2026-01-25 15:11:45,117 - nl2sql - INFO - endpoints.py:48 - Query success! 0 rows returned.
2026-01-25 15:12:07,304 - nl2sql - INFO - endpoints.py:14 - Incoming query: show me all operational metrics | Domain: operations
2026-01-25 15:12:07,312 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 15:12:07,312 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: operations | Query: show me all operational metrics
2026-01-25 15:12:07,312 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 15:12:07,971 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 1....
2026-01-25 15:12:07,971 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 1.0) | Needs Clarification: False
2026-01-25 15:12:07,977 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 1.0) | Needs Clarification: False
2026-01-25 15:12:07,983 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-01-25 15:12:08,970 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {},
  "metadata":...
2026-01-25 15:12:08,974 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-01-25 15:12:08,983 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-01-25 15:12:08,983 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: operations | Query: show me all operational metrics
2026-01-25 15:12:08,991 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the operation...
2026-01-25 15:12:10,034 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: Error: The term "operational metrics" is too broad...
2026-01-25 15:12:10,034 - nl2sql - WARNING - sql_generation.py:80 - SQL Generation guidance response for query: show me all operational metrics | Msg: Error: The term "operational metrics" is too broad...
2026-01-25 15:12:10,034 - nl2sql - INFO - workflow.py:63 - SQL Generated: Error: The term "operational metrics" is too broad...
2026-01-25 15:12:10,041 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 15:12:10,050 - nl2sql - WARNING - workflow.py:71 - SQL Validation Error: Invalid expression / Unexpected token. Line 1, Col: 15.
  Error: The [4mterm[0m "operational metrics" is too broad. Please specify which operational metrics you are interested in.
2026-01-25 15:12:10,058 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a SQL expert. The following SQLite query ...
2026-01-25 15:12:10,819 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT * FROM transactions...
2026-01-25 15:12:10,824 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 15:12:10,833 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-01-25 15:12:10,833 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT * FROM transactions
2026-01-25 15:12:12,836 - nl2sql - INFO - database.py:60 - Execution complete. Returned 50000 rows.
2026-01-25 15:12:12,836 - nl2sql - INFO - workflow.py:92 - Query execution returned 50000 rows.
2026-01-25 15:12:12,842 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a data visualization expert. Recommend th...
2026-01-25 15:12:14,188 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "chart_type": "table",
  "title": "All...
2026-01-25 15:12:14,197 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: show me all operational metrics
2026-01-25 15:12:14,201 - nl2sql - INFO - endpoints.py:48 - Query success! 50000 rows returned.
2026-01-25 15:18:08,767 - nl2sql - INFO - endpoints.py:14 - Incoming query: what are complaice in UAE ? | Domain: compliance
2026-01-25 15:18:08,791 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 15:18:08,797 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: compliance | Query: what are complaice in UAE ?
2026-01-25 15:18:08,819 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 15:18:10,238 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 0....
2026-01-25 15:18:10,238 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 0.9) | Needs Clarification: True
2026-01-25 15:18:10,242 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.9) | Needs Clarification: True
2026-01-25 15:18:10,262 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-01-25 15:18:11,136 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {
    "country": ...
2026-01-25 15:18:11,136 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {'country': 'AE'}
2026-01-25 15:18:11,152 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a helpful assistant helping clarify datab...
2026-01-25 15:18:11,683 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: To help me understand what you're looking for rega...
2026-01-25 15:18:11,685 - nl2sql - INFO - endpoints.py:24 - Graph execution status: needs_clarification for query: what are complaice in UAE ?
2026-01-25 15:18:29,425 - nl2sql - INFO - endpoints.py:14 - Incoming query: politcally expoed person | Domain: compliance
2026-01-25 15:18:29,430 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 15:18:29,431 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: compliance | Query: politcally expoed person
2026-01-25 15:18:29,436 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 15:18:30,492 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 1....
2026-01-25 15:18:30,492 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 1.0) | Needs Clarification: False
2026-01-25 15:18:30,492 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 1.0) | Needs Clarification: False
2026-01-25 15:18:30,501 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-01-25 15:18:31,368 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {
    "is_pep": t...
2026-01-25 15:18:31,371 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {'is_pep': True}
2026-01-25 15:18:31,378 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-01-25 15:18:31,385 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: compliance | Query: politcally expoed person
2026-01-25 15:18:31,392 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the complianc...
2026-01-25 15:18:32,013 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT user_id, email FROM users WHERE pep_status ...
2026-01-25 15:18:32,020 - nl2sql - INFO - sql_generation.py:91 - SQL Generated and cleaned: SELECT user_id, email FROM users WHERE pep_status ...
2026-01-25 15:18:32,023 - nl2sql - INFO - workflow.py:63 - SQL Generated: SELECT user_id, email FROM users WHERE pep_status ...
2026-01-25 15:18:32,023 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 15:18:32,042 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-01-25 15:18:32,042 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT user_id, email FROM users WHERE pep_status = 1
2026-01-25 15:18:32,080 - nl2sql - ERROR - database.py:67 - DATABASE EXECUTION ERROR: (sqlite3.OperationalError) no such column: pep_status
[SQL: SELECT user_id, email FROM users WHERE pep_status = 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT user_id, email FROM users WHERE pep_status = 1
2026-01-25 15:18:32,083 - nl2sql - INFO - workflow.py:92 - Query execution returned 0 rows.
2026-01-25 15:18:32,092 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: politcally expoed person
2026-01-25 15:18:32,099 - nl2sql - INFO - endpoints.py:48 - Query success! 0 rows returned.
2026-01-25 15:22:47,413 - nl2sql - INFO - endpoints.py:14 - Incoming query: accroding to transaction monitoring rules in UAE  apid Fund MovementDeposit + withdrawal within short periodAML red flag ..lets see from our data if we are complaint | Domain: compliance
2026-01-25 15:22:47,421 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 15:22:47,421 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: compliance | Query: accroding to transaction monitoring rules in UAE  apid Fund MovementDeposit + withdrawal within short periodAML red flag ..lets see from our data if we are complaint
2026-01-25 15:22:47,430 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 15:22:49,327 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 0....
2026-01-25 15:22:49,327 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 0.9) | Needs Clarification: True
2026-01-25 15:22:49,332 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.9) | Needs Clarification: True
2026-01-25 15:22:49,340 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-01-25 15:22:50,305 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {
    "country": ...
2026-01-25 15:22:50,305 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {'country': 'AE', 'transaction_type': ['DEPOSIT', 'WITHDRAWAL']}
2026-01-25 15:22:50,333 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a helpful assistant helping clarify datab...
2026-01-25 15:22:51,192 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: To help me check your compliance with UAE transact...
2026-01-25 15:22:51,195 - nl2sql - INFO - endpoints.py:24 - Graph execution status: needs_clarification for query: accroding to transaction monitoring rules in UAE  apid Fund MovementDeposit + withdrawal within short periodAML red flag ..lets see from our data if we are complaint
2026-01-25 15:23:10,743 - nl2sql - INFO - endpoints.py:14 - Incoming query: lets whatever time period we have | Domain: compliance
2026-01-25 15:23:10,751 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 15:23:10,751 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: compliance | Query: lets whatever time period we have
2026-01-25 15:23:10,760 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 15:23:11,602 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 0....
2026-01-25 15:23:11,608 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 0.7) | Needs Clarification: True
2026-01-25 15:23:11,610 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.7) | Needs Clarification: True
2026-01-25 15:23:11,612 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-01-25 15:23:12,492 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {},
  "metadata":...
2026-01-25 15:23:12,496 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-01-25 15:23:12,499 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a helpful assistant helping clarify datab...
2026-01-25 15:23:14,479 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: To effectively check for rapid fund movements, cou...
2026-01-25 15:23:14,482 - nl2sql - INFO - endpoints.py:24 - Graph execution status: needs_clarification for query: lets whatever time period we have
2026-01-25 15:23:22,078 - nl2sql - INFO - endpoints.py:14 - Incoming query: 24 hrs | Domain: compliance
2026-01-25 15:23:22,083 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 15:23:22,083 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: compliance | Query: 24 hrs
2026-01-25 15:23:22,093 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 15:23:23,033 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 1....
2026-01-25 15:23:23,033 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 1.0) | Needs Clarification: False
2026-01-25 15:23:23,033 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 1.0) | Needs Clarification: False
2026-01-25 15:23:23,045 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-01-25 15:23:23,887 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {},
  "metadata":...
2026-01-25 15:23:23,887 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-01-25 15:23:23,896 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-01-25 15:23:23,900 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: compliance | Query: 24 hrs
2026-01-25 15:23:23,905 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the complianc...
2026-01-25 15:23:25,018 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: Error: The request "24 hrs" is too vague. It's unc...
2026-01-25 15:23:25,021 - nl2sql - WARNING - sql_generation.py:80 - SQL Generation guidance response for query: 24 hrs | Msg: Error: The request "24 hrs" is too vague. It's unc...
2026-01-25 15:23:25,022 - nl2sql - INFO - workflow.py:63 - SQL Generated: Error: The request "24 hrs" is too vague. It's unc...
2026-01-25 15:23:25,028 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 15:23:25,030 - nl2sql - WARNING - workflow.py:71 - SQL Validation Error: Error tokenizing 'y asking about: transactions, login_events, alert'
2026-01-25 15:23:25,047 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a SQL expert. The following SQLite query ...
2026-01-25 15:23:26,474 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: This request is to fix an invalid SQL query based ...
2026-01-25 15:23:26,478 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 15:23:26,496 - nl2sql - WARNING - workflow.py:71 - SQL Validation Error: Invalid expression / Unexpected token. Line 1, Col: 15.
  This request [4mis[0m to fix an invalid SQL query based on the provided error message. The error message indicates that t
2026-01-25 15:23:26,504 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a SQL expert. The following SQLite query ...
2026-01-25 15:23:27,297 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT COUNT(*) FROM transactions WHERE transactio...
2026-01-25 15:23:27,299 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 15:23:27,319 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-01-25 15:23:27,319 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT COUNT(*) FROM transactions WHERE transaction_time >= strftime('%s', 'now', '-24 hours')
2026-01-25 15:23:27,337 - nl2sql - ERROR - database.py:67 - DATABASE EXECUTION ERROR: (sqlite3.OperationalError) no such column: transaction_time
[SQL: SELECT COUNT(*) FROM transactions WHERE transaction_time >= strftime('%s', 'now', '-24 hours')]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT COUNT(*) FROM transactions WHERE transaction_time >= strftime('%s', 'now', '-24 hours')
2026-01-25 15:23:27,339 - nl2sql - INFO - workflow.py:92 - Query execution returned 0 rows.
2026-01-25 15:23:27,347 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: 24 hrs
2026-01-25 15:23:27,351 - nl2sql - INFO - endpoints.py:48 - Query success! 0 rows returned.
2026-01-25 16:03:59,009 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 16:03:59,009 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 16:03:59,057 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 16:03:59,060 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 16:04:10,829 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 16:04:10,850 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 16:04:10,870 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 16:04:10,890 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 16:04:19,034 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-01-25 16:04:19,058 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite_%';
2026-01-25 16:04:19,063 - nl2sql - INFO - database.py:60 - Execution complete. Returned 8 rows.
2026-01-25 16:04:19,063 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(users);
2026-01-25 16:04:19,066 - nl2sql - INFO - database.py:60 - Execution complete. Returned 15 rows.
2026-01-25 16:04:19,066 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT user_id FROM users WHERE user_id IS NOT NULL LIMIT 5
2026-01-25 16:04:19,069 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,071 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT email FROM users WHERE email IS NOT NULL LIMIT 5
2026-01-25 16:04:19,075 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,075 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT full_name FROM users WHERE full_name IS NOT NULL LIMIT 5
2026-01-25 16:04:19,078 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,079 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT country FROM users WHERE country IS NOT NULL LIMIT 5
2026-01-25 16:04:19,082 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,083 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT phone FROM users WHERE phone IS NOT NULL LIMIT 5
2026-01-25 16:04:19,083 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,083 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT date_of_birth FROM users WHERE date_of_birth IS NOT NULL LIMIT 5
2026-01-25 16:04:19,083 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,083 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT kyc_status FROM users WHERE kyc_status IS NOT NULL LIMIT 5
2026-01-25 16:04:19,089 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:19,091 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT kyc_verified_at FROM users WHERE kyc_verified_at IS NOT NULL LIMIT 5
2026-01-25 16:04:19,093 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,093 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT kyc_expiry_date FROM users WHERE kyc_expiry_date IS NOT NULL LIMIT 5
2026-01-25 16:04:19,093 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,093 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT risk_level FROM users WHERE risk_level IS NOT NULL LIMIT 5
2026-01-25 16:04:19,098 - nl2sql - INFO - database.py:60 - Execution complete. Returned 3 rows.
2026-01-25 16:04:19,098 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT risk_score FROM users WHERE risk_score IS NOT NULL LIMIT 5
2026-01-25 16:04:19,100 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,100 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT is_pep FROM users WHERE is_pep IS NOT NULL LIMIT 5
2026-01-25 16:04:19,108 - nl2sql - INFO - database.py:60 - Execution complete. Returned 2 rows.
2026-01-25 16:04:19,108 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT account_status FROM users WHERE account_status IS NOT NULL LIMIT 5
2026-01-25 16:04:19,112 - nl2sql - INFO - database.py:60 - Execution complete. Returned 3 rows.
2026-01-25 16:04:19,113 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM users WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:19,115 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,117 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT updated_at FROM users WHERE updated_at IS NOT NULL LIMIT 5
2026-01-25 16:04:19,118 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,120 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(transactions);
2026-01-25 16:04:19,122 - nl2sql - INFO - database.py:60 - Execution complete. Returned 14 rows.
2026-01-25 16:04:19,123 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT txn_id FROM transactions WHERE txn_id IS NOT NULL LIMIT 5
2026-01-25 16:04:19,125 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,128 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT user_id FROM transactions WHERE user_id IS NOT NULL LIMIT 5
2026-01-25 16:04:19,133 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,133 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT txn_type FROM transactions WHERE txn_type IS NOT NULL LIMIT 5
2026-01-25 16:04:19,205 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,205 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT instrument FROM transactions WHERE instrument IS NOT NULL LIMIT 5
2026-01-25 16:04:19,228 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,229 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT amount FROM transactions WHERE amount IS NOT NULL LIMIT 5
2026-01-25 16:04:19,232 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,232 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT currency FROM transactions WHERE currency IS NOT NULL LIMIT 5
2026-01-25 16:04:19,716 - nl2sql - INFO - database.py:60 - Execution complete. Returned 1 rows.
2026-01-25 16:04:19,716 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT amount_usd FROM transactions WHERE amount_usd IS NOT NULL LIMIT 5
2026-01-25 16:04:19,728 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,728 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT status FROM transactions WHERE status IS NOT NULL LIMIT 5
2026-01-25 16:04:19,783 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:19,785 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT flag_reason FROM transactions WHERE flag_reason IS NOT NULL LIMIT 5
2026-01-25 16:04:19,799 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:19,799 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT payment_method FROM transactions WHERE payment_method IS NOT NULL LIMIT 5
2026-01-25 16:04:19,816 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:19,816 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT external_ref FROM transactions WHERE external_ref IS NOT NULL LIMIT 5
2026-01-25 16:04:19,821 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,821 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT ip_address FROM transactions WHERE ip_address IS NOT NULL LIMIT 5
2026-01-25 16:04:19,821 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,821 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM transactions WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:19,829 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,829 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT processed_at FROM transactions WHERE processed_at IS NOT NULL LIMIT 5
2026-01-25 16:04:19,830 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,830 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(login_events);
2026-01-25 16:04:19,832 - nl2sql - INFO - database.py:60 - Execution complete. Returned 12 rows.
2026-01-25 16:04:19,832 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT event_id FROM login_events WHERE event_id IS NOT NULL LIMIT 5
2026-01-25 16:04:19,837 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,838 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT user_id FROM login_events WHERE user_id IS NOT NULL LIMIT 5
2026-01-25 16:04:19,841 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,841 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT email_attempted FROM login_events WHERE email_attempted IS NOT NULL LIMIT 5
2026-01-25 16:04:19,846 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,846 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT ip_address FROM login_events WHERE ip_address IS NOT NULL LIMIT 5
2026-01-25 16:04:19,848 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,848 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT country FROM login_events WHERE country IS NOT NULL LIMIT 5
2026-01-25 16:04:19,863 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,863 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT city FROM login_events WHERE city IS NOT NULL LIMIT 5
2026-01-25 16:04:19,940 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:19,941 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT device_type FROM login_events WHERE device_type IS NOT NULL LIMIT 5
2026-01-25 16:04:19,951 - nl2sql - INFO - database.py:60 - Execution complete. Returned 3 rows.
2026-01-25 16:04:19,951 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT device_fingerprint FROM login_events WHERE device_fingerprint IS NOT NULL LIMIT 5
2026-01-25 16:04:19,954 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,955 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT user_agent FROM login_events WHERE user_agent IS NOT NULL LIMIT 5
2026-01-25 16:04:19,962 - nl2sql - INFO - database.py:60 - Execution complete. Returned 1 rows.
2026-01-25 16:04:19,962 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT status FROM login_events WHERE status IS NOT NULL LIMIT 5
2026-01-25 16:04:19,970 - nl2sql - INFO - database.py:60 - Execution complete. Returned 3 rows.
2026-01-25 16:04:19,970 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT failure_reason FROM login_events WHERE failure_reason IS NOT NULL LIMIT 5
2026-01-25 16:04:19,970 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,977 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM login_events WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:19,979 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,980 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(alert_rules);
2026-01-25 16:04:19,982 - nl2sql - INFO - database.py:60 - Execution complete. Returned 7 rows.
2026-01-25 16:04:19,983 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT rule_id FROM alert_rules WHERE rule_id IS NOT NULL LIMIT 5
2026-01-25 16:04:19,983 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,983 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT rule_name FROM alert_rules WHERE rule_name IS NOT NULL LIMIT 5
2026-01-25 16:04:19,986 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,987 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT rule_type FROM alert_rules WHERE rule_type IS NOT NULL LIMIT 5
2026-01-25 16:04:19,987 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,990 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT condition FROM alert_rules WHERE condition IS NOT NULL LIMIT 5
2026-01-25 16:04:19,991 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:19,991 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT severity FROM alert_rules WHERE severity IS NOT NULL LIMIT 5
2026-01-25 16:04:19,991 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:19,995 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT is_active FROM alert_rules WHERE is_active IS NOT NULL LIMIT 5
2026-01-25 16:04:19,995 - nl2sql - INFO - database.py:60 - Execution complete. Returned 1 rows.
2026-01-25 16:04:19,995 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM alert_rules WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:19,995 - nl2sql - INFO - database.py:60 - Execution complete. Returned 1 rows.
2026-01-25 16:04:19,995 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(alerts);
2026-01-25 16:04:19,995 - nl2sql - INFO - database.py:60 - Execution complete. Returned 12 rows.
2026-01-25 16:04:20,002 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT alert_id FROM alerts WHERE alert_id IS NOT NULL LIMIT 5
2026-01-25 16:04:20,002 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:20,002 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT rule_name FROM alerts WHERE rule_name IS NOT NULL LIMIT 5
2026-01-25 16:04:20,021 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:20,021 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT rule_id FROM alerts WHERE rule_id IS NOT NULL LIMIT 5
2026-01-25 16:04:20,021 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:20,025 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT user_id FROM alerts WHERE user_id IS NOT NULL LIMIT 5
2026-01-25 16:04:20,029 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:20,029 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT txn_id FROM alerts WHERE txn_id IS NOT NULL LIMIT 5
2026-01-25 16:04:20,033 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:20,035 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT severity FROM alerts WHERE severity IS NOT NULL LIMIT 5
2026-01-25 16:04:20,037 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:20,037 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT status FROM alerts WHERE status IS NOT NULL LIMIT 5
2026-01-25 16:04:20,040 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:20,042 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT details FROM alerts WHERE details IS NOT NULL LIMIT 5
2026-01-25 16:04:20,045 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:20,045 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT assigned_to FROM alerts WHERE assigned_to IS NOT NULL LIMIT 5
2026-01-25 16:04:20,048 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:20,050 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT resolved_at FROM alerts WHERE resolved_at IS NOT NULL LIMIT 5
2026-01-25 16:04:20,054 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:20,054 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT resolution_notes FROM alerts WHERE resolution_notes IS NOT NULL LIMIT 5
2026-01-25 16:04:20,054 - nl2sql - INFO - database.py:60 - Execution complete. Returned 2 rows.
2026-01-25 16:04:20,054 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM alerts WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:20,062 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:20,064 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(audit_logs);
2026-01-25 16:04:20,064 - nl2sql - INFO - database.py:60 - Execution complete. Returned 8 rows.
2026-01-25 16:04:20,064 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT log_id FROM audit_logs WHERE log_id IS NOT NULL LIMIT 5
2026-01-25 16:04:20,070 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:20,074 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT actor_id FROM audit_logs WHERE actor_id IS NOT NULL LIMIT 5
2026-01-25 16:04:20,076 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:20,079 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT action FROM audit_logs WHERE action IS NOT NULL LIMIT 5
2026-01-25 16:04:20,099 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:20,100 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT resource_type FROM audit_logs WHERE resource_type IS NOT NULL LIMIT 5
2026-01-25 16:04:20,103 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:20,103 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT resource_id FROM audit_logs WHERE resource_id IS NOT NULL LIMIT 5
2026-01-25 16:04:20,109 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:20,110 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT query_text FROM audit_logs WHERE query_text IS NOT NULL LIMIT 5
2026-01-25 16:04:20,149 - nl2sql - INFO - database.py:60 - Execution complete. Returned 1 rows.
2026-01-25 16:04:20,153 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT ip_address FROM audit_logs WHERE ip_address IS NOT NULL LIMIT 5
2026-01-25 16:04:20,153 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:20,153 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM audit_logs WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:20,160 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:20,161 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(dashboards);
2026-01-25 16:04:20,165 - nl2sql - INFO - database.py:60 - Execution complete. Returned 10 rows.
2026-01-25 16:04:20,167 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT dashboard_id FROM dashboards WHERE dashboard_id IS NOT NULL LIMIT 5
2026-01-25 16:04:20,169 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:20,171 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT name FROM dashboards WHERE name IS NOT NULL LIMIT 5
2026-01-25 16:04:20,171 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:20,171 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT owner_id FROM dashboards WHERE owner_id IS NOT NULL LIMIT 5
2026-01-25 16:04:20,179 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:20,179 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT widgets FROM dashboards WHERE widgets IS NOT NULL LIMIT 5
2026-01-25 16:04:20,182 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:20,182 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT layout FROM dashboards WHERE layout IS NOT NULL LIMIT 5
2026-01-25 16:04:20,187 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:20,187 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT is_deployed FROM dashboards WHERE is_deployed IS NOT NULL LIMIT 5
2026-01-25 16:04:20,194 - nl2sql - INFO - database.py:60 - Execution complete. Returned 2 rows.
2026-01-25 16:04:20,201 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT deploy_url FROM dashboards WHERE deploy_url IS NOT NULL LIMIT 5
2026-01-25 16:04:20,206 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:20,206 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT refresh_interval FROM dashboards WHERE refresh_interval IS NOT NULL LIMIT 5
2026-01-25 16:04:20,208 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:20,210 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM dashboards WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:20,212 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:20,212 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT deployed_at FROM dashboards WHERE deployed_at IS NOT NULL LIMIT 5
2026-01-25 16:04:20,214 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:20,214 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(query_history);
2026-01-25 16:04:20,216 - nl2sql - INFO - database.py:60 - Execution complete. Returned 7 rows.
2026-01-25 16:04:20,218 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT query_id FROM query_history WHERE query_id IS NOT NULL LIMIT 5
2026-01-25 16:04:20,221 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:20,221 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT user_id FROM query_history WHERE user_id IS NOT NULL LIMIT 5
2026-01-25 16:04:20,221 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:20,221 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT nl_query FROM query_history WHERE nl_query IS NOT NULL LIMIT 5
2026-01-25 16:04:20,221 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:20,228 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT generated_sql FROM query_history WHERE generated_sql IS NOT NULL LIMIT 5
2026-01-25 16:04:20,231 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:20,232 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT result_count FROM query_history WHERE result_count IS NOT NULL LIMIT 5
2026-01-25 16:04:20,232 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:20,232 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT is_favorite FROM query_history WHERE is_favorite IS NOT NULL LIMIT 5
2026-01-25 16:04:20,237 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:20,238 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM query_history WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:20,242 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:20,244 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert Data Scientist and System Archi...
2026-01-25 16:04:25,466 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "refined_schema_context": "The databas...
2026-01-25 16:04:25,470 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite_%';
2026-01-25 16:04:25,478 - nl2sql - INFO - database.py:60 - Execution complete. Returned 8 rows.
2026-01-25 16:04:25,478 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(users);
2026-01-25 16:04:25,482 - nl2sql - INFO - database.py:60 - Execution complete. Returned 15 rows.
2026-01-25 16:04:25,482 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT user_id FROM users WHERE user_id IS NOT NULL LIMIT 5
2026-01-25 16:04:25,486 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,488 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT email FROM users WHERE email IS NOT NULL LIMIT 5
2026-01-25 16:04:25,492 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,492 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT full_name FROM users WHERE full_name IS NOT NULL LIMIT 5
2026-01-25 16:04:25,497 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,497 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT country FROM users WHERE country IS NOT NULL LIMIT 5
2026-01-25 16:04:25,504 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,504 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT phone FROM users WHERE phone IS NOT NULL LIMIT 5
2026-01-25 16:04:25,508 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,512 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT date_of_birth FROM users WHERE date_of_birth IS NOT NULL LIMIT 5
2026-01-25 16:04:25,515 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,517 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT kyc_status FROM users WHERE kyc_status IS NOT NULL LIMIT 5
2026-01-25 16:04:25,521 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:25,521 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT kyc_verified_at FROM users WHERE kyc_verified_at IS NOT NULL LIMIT 5
2026-01-25 16:04:25,526 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,528 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT kyc_expiry_date FROM users WHERE kyc_expiry_date IS NOT NULL LIMIT 5
2026-01-25 16:04:25,531 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,533 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT risk_level FROM users WHERE risk_level IS NOT NULL LIMIT 5
2026-01-25 16:04:25,535 - nl2sql - INFO - database.py:60 - Execution complete. Returned 3 rows.
2026-01-25 16:04:25,538 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT risk_score FROM users WHERE risk_score IS NOT NULL LIMIT 5
2026-01-25 16:04:25,541 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,541 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT is_pep FROM users WHERE is_pep IS NOT NULL LIMIT 5
2026-01-25 16:04:25,547 - nl2sql - INFO - database.py:60 - Execution complete. Returned 2 rows.
2026-01-25 16:04:25,547 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT account_status FROM users WHERE account_status IS NOT NULL LIMIT 5
2026-01-25 16:04:25,547 - nl2sql - INFO - database.py:60 - Execution complete. Returned 3 rows.
2026-01-25 16:04:25,547 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM users WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:25,554 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,554 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT updated_at FROM users WHERE updated_at IS NOT NULL LIMIT 5
2026-01-25 16:04:25,557 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,557 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(transactions);
2026-01-25 16:04:25,562 - nl2sql - INFO - database.py:60 - Execution complete. Returned 14 rows.
2026-01-25 16:04:25,562 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT txn_id FROM transactions WHERE txn_id IS NOT NULL LIMIT 5
2026-01-25 16:04:25,564 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,564 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT user_id FROM transactions WHERE user_id IS NOT NULL LIMIT 5
2026-01-25 16:04:25,569 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,571 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT txn_type FROM transactions WHERE txn_type IS NOT NULL LIMIT 5
2026-01-25 16:04:25,578 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,578 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT instrument FROM transactions WHERE instrument IS NOT NULL LIMIT 5
2026-01-25 16:04:25,583 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,586 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT amount FROM transactions WHERE amount IS NOT NULL LIMIT 5
2026-01-25 16:04:25,588 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,590 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT currency FROM transactions WHERE currency IS NOT NULL LIMIT 5
2026-01-25 16:04:25,612 - nl2sql - INFO - database.py:60 - Execution complete. Returned 1 rows.
2026-01-25 16:04:25,617 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT amount_usd FROM transactions WHERE amount_usd IS NOT NULL LIMIT 5
2026-01-25 16:04:25,620 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,620 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT status FROM transactions WHERE status IS NOT NULL LIMIT 5
2026-01-25 16:04:25,630 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:25,630 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT flag_reason FROM transactions WHERE flag_reason IS NOT NULL LIMIT 5
2026-01-25 16:04:25,650 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:25,653 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT payment_method FROM transactions WHERE payment_method IS NOT NULL LIMIT 5
2026-01-25 16:04:25,670 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:25,670 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT external_ref FROM transactions WHERE external_ref IS NOT NULL LIMIT 5
2026-01-25 16:04:25,677 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,679 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT ip_address FROM transactions WHERE ip_address IS NOT NULL LIMIT 5
2026-01-25 16:04:25,679 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,681 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM transactions WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:25,682 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,684 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT processed_at FROM transactions WHERE processed_at IS NOT NULL LIMIT 5
2026-01-25 16:04:25,686 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,688 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(login_events);
2026-01-25 16:04:25,690 - nl2sql - INFO - database.py:60 - Execution complete. Returned 12 rows.
2026-01-25 16:04:25,690 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT event_id FROM login_events WHERE event_id IS NOT NULL LIMIT 5
2026-01-25 16:04:25,692 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,692 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT user_id FROM login_events WHERE user_id IS NOT NULL LIMIT 5
2026-01-25 16:04:25,692 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,692 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT email_attempted FROM login_events WHERE email_attempted IS NOT NULL LIMIT 5
2026-01-25 16:04:25,692 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,692 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT ip_address FROM login_events WHERE ip_address IS NOT NULL LIMIT 5
2026-01-25 16:04:25,692 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,702 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT country FROM login_events WHERE country IS NOT NULL LIMIT 5
2026-01-25 16:04:25,702 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,702 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT city FROM login_events WHERE city IS NOT NULL LIMIT 5
2026-01-25 16:04:25,714 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:25,716 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT device_type FROM login_events WHERE device_type IS NOT NULL LIMIT 5
2026-01-25 16:04:25,729 - nl2sql - INFO - database.py:60 - Execution complete. Returned 3 rows.
2026-01-25 16:04:25,729 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT device_fingerprint FROM login_events WHERE device_fingerprint IS NOT NULL LIMIT 5
2026-01-25 16:04:25,729 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,733 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT user_agent FROM login_events WHERE user_agent IS NOT NULL LIMIT 5
2026-01-25 16:04:25,741 - nl2sql - INFO - database.py:60 - Execution complete. Returned 1 rows.
2026-01-25 16:04:25,741 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT status FROM login_events WHERE status IS NOT NULL LIMIT 5
2026-01-25 16:04:25,746 - nl2sql - INFO - database.py:60 - Execution complete. Returned 3 rows.
2026-01-25 16:04:25,746 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT failure_reason FROM login_events WHERE failure_reason IS NOT NULL LIMIT 5
2026-01-25 16:04:25,746 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,746 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM login_events WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:25,746 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,746 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(alert_rules);
2026-01-25 16:04:25,746 - nl2sql - INFO - database.py:60 - Execution complete. Returned 7 rows.
2026-01-25 16:04:25,746 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT rule_id FROM alert_rules WHERE rule_id IS NOT NULL LIMIT 5
2026-01-25 16:04:25,759 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,761 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT rule_name FROM alert_rules WHERE rule_name IS NOT NULL LIMIT 5
2026-01-25 16:04:25,762 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,762 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT rule_type FROM alert_rules WHERE rule_type IS NOT NULL LIMIT 5
2026-01-25 16:04:25,762 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,762 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT condition FROM alert_rules WHERE condition IS NOT NULL LIMIT 5
2026-01-25 16:04:25,768 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,770 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT severity FROM alert_rules WHERE severity IS NOT NULL LIMIT 5
2026-01-25 16:04:25,770 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:25,770 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT is_active FROM alert_rules WHERE is_active IS NOT NULL LIMIT 5
2026-01-25 16:04:25,770 - nl2sql - INFO - database.py:60 - Execution complete. Returned 1 rows.
2026-01-25 16:04:25,770 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM alert_rules WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:25,770 - nl2sql - INFO - database.py:60 - Execution complete. Returned 1 rows.
2026-01-25 16:04:25,778 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(alerts);
2026-01-25 16:04:25,778 - nl2sql - INFO - database.py:60 - Execution complete. Returned 12 rows.
2026-01-25 16:04:25,778 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT alert_id FROM alerts WHERE alert_id IS NOT NULL LIMIT 5
2026-01-25 16:04:25,782 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,783 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT rule_name FROM alerts WHERE rule_name IS NOT NULL LIMIT 5
2026-01-25 16:04:25,785 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,787 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT rule_id FROM alerts WHERE rule_id IS NOT NULL LIMIT 5
2026-01-25 16:04:25,787 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,789 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT user_id FROM alerts WHERE user_id IS NOT NULL LIMIT 5
2026-01-25 16:04:25,790 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,791 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT txn_id FROM alerts WHERE txn_id IS NOT NULL LIMIT 5
2026-01-25 16:04:25,794 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,797 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT severity FROM alerts WHERE severity IS NOT NULL LIMIT 5
2026-01-25 16:04:25,797 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:25,799 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT status FROM alerts WHERE status IS NOT NULL LIMIT 5
2026-01-25 16:04:25,799 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:25,802 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT details FROM alerts WHERE details IS NOT NULL LIMIT 5
2026-01-25 16:04:25,804 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,806 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT assigned_to FROM alerts WHERE assigned_to IS NOT NULL LIMIT 5
2026-01-25 16:04:25,806 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:25,808 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT resolved_at FROM alerts WHERE resolved_at IS NOT NULL LIMIT 5
2026-01-25 16:04:25,810 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,812 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT resolution_notes FROM alerts WHERE resolution_notes IS NOT NULL LIMIT 5
2026-01-25 16:04:25,814 - nl2sql - INFO - database.py:60 - Execution complete. Returned 2 rows.
2026-01-25 16:04:25,814 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM alerts WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:25,816 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,818 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(audit_logs);
2026-01-25 16:04:25,821 - nl2sql - INFO - database.py:60 - Execution complete. Returned 8 rows.
2026-01-25 16:04:25,822 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT log_id FROM audit_logs WHERE log_id IS NOT NULL LIMIT 5
2026-01-25 16:04:25,824 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,825 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT actor_id FROM audit_logs WHERE actor_id IS NOT NULL LIMIT 5
2026-01-25 16:04:25,827 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,829 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT action FROM audit_logs WHERE action IS NOT NULL LIMIT 5
2026-01-25 16:04:25,831 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,831 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT resource_type FROM audit_logs WHERE resource_type IS NOT NULL LIMIT 5
2026-01-25 16:04:25,833 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,833 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT resource_id FROM audit_logs WHERE resource_id IS NOT NULL LIMIT 5
2026-01-25 16:04:25,833 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,833 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT query_text FROM audit_logs WHERE query_text IS NOT NULL LIMIT 5
2026-01-25 16:04:25,841 - nl2sql - INFO - database.py:60 - Execution complete. Returned 1 rows.
2026-01-25 16:04:25,844 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT ip_address FROM audit_logs WHERE ip_address IS NOT NULL LIMIT 5
2026-01-25 16:04:25,848 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,848 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM audit_logs WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:25,848 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,853 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(dashboards);
2026-01-25 16:04:25,855 - nl2sql - INFO - database.py:60 - Execution complete. Returned 10 rows.
2026-01-25 16:04:25,857 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT dashboard_id FROM dashboards WHERE dashboard_id IS NOT NULL LIMIT 5
2026-01-25 16:04:25,857 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,861 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT name FROM dashboards WHERE name IS NOT NULL LIMIT 5
2026-01-25 16:04:25,864 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,865 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT owner_id FROM dashboards WHERE owner_id IS NOT NULL LIMIT 5
2026-01-25 16:04:25,868 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,870 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT widgets FROM dashboards WHERE widgets IS NOT NULL LIMIT 5
2026-01-25 16:04:25,873 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,873 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT layout FROM dashboards WHERE layout IS NOT NULL LIMIT 5
2026-01-25 16:04:25,877 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,878 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT is_deployed FROM dashboards WHERE is_deployed IS NOT NULL LIMIT 5
2026-01-25 16:04:25,880 - nl2sql - INFO - database.py:60 - Execution complete. Returned 2 rows.
2026-01-25 16:04:25,882 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT deploy_url FROM dashboards WHERE deploy_url IS NOT NULL LIMIT 5
2026-01-25 16:04:25,882 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,885 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT refresh_interval FROM dashboards WHERE refresh_interval IS NOT NULL LIMIT 5
2026-01-25 16:04:25,887 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,890 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM dashboards WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:25,892 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,892 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT deployed_at FROM dashboards WHERE deployed_at IS NOT NULL LIMIT 5
2026-01-25 16:04:25,895 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:25,895 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(query_history);
2026-01-25 16:04:25,895 - nl2sql - INFO - database.py:60 - Execution complete. Returned 7 rows.
2026-01-25 16:04:25,899 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT query_id FROM query_history WHERE query_id IS NOT NULL LIMIT 5
2026-01-25 16:04:25,899 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:25,903 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT user_id FROM query_history WHERE user_id IS NOT NULL LIMIT 5
2026-01-25 16:04:25,905 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:25,905 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT nl_query FROM query_history WHERE nl_query IS NOT NULL LIMIT 5
2026-01-25 16:04:25,907 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:25,907 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT generated_sql FROM query_history WHERE generated_sql IS NOT NULL LIMIT 5
2026-01-25 16:04:25,909 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:25,912 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT result_count FROM query_history WHERE result_count IS NOT NULL LIMIT 5
2026-01-25 16:04:25,912 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:25,912 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT is_favorite FROM query_history WHERE is_favorite IS NOT NULL LIMIT 5
2026-01-25 16:04:25,912 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:25,918 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM query_history WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:25,919 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:25,922 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert Data Scientist and System Archi...
2026-01-25 16:04:30,241 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "refined_schema_context": "The databas...
2026-01-25 16:04:30,266 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite_%';
2026-01-25 16:04:30,268 - nl2sql - INFO - database.py:60 - Execution complete. Returned 8 rows.
2026-01-25 16:04:30,270 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(users);
2026-01-25 16:04:30,270 - nl2sql - INFO - database.py:60 - Execution complete. Returned 15 rows.
2026-01-25 16:04:30,270 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT user_id FROM users WHERE user_id IS NOT NULL LIMIT 5
2026-01-25 16:04:30,279 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,282 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT email FROM users WHERE email IS NOT NULL LIMIT 5
2026-01-25 16:04:30,283 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,287 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT full_name FROM users WHERE full_name IS NOT NULL LIMIT 5
2026-01-25 16:04:30,288 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,290 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT country FROM users WHERE country IS NOT NULL LIMIT 5
2026-01-25 16:04:30,292 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,294 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT phone FROM users WHERE phone IS NOT NULL LIMIT 5
2026-01-25 16:04:30,296 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,296 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT date_of_birth FROM users WHERE date_of_birth IS NOT NULL LIMIT 5
2026-01-25 16:04:30,296 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,304 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT kyc_status FROM users WHERE kyc_status IS NOT NULL LIMIT 5
2026-01-25 16:04:30,305 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:30,305 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT kyc_verified_at FROM users WHERE kyc_verified_at IS NOT NULL LIMIT 5
2026-01-25 16:04:30,311 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,311 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT kyc_expiry_date FROM users WHERE kyc_expiry_date IS NOT NULL LIMIT 5
2026-01-25 16:04:30,311 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,316 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT risk_level FROM users WHERE risk_level IS NOT NULL LIMIT 5
2026-01-25 16:04:30,316 - nl2sql - INFO - database.py:60 - Execution complete. Returned 3 rows.
2026-01-25 16:04:30,319 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT risk_score FROM users WHERE risk_score IS NOT NULL LIMIT 5
2026-01-25 16:04:30,322 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,322 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT is_pep FROM users WHERE is_pep IS NOT NULL LIMIT 5
2026-01-25 16:04:30,324 - nl2sql - INFO - database.py:60 - Execution complete. Returned 2 rows.
2026-01-25 16:04:30,324 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT account_status FROM users WHERE account_status IS NOT NULL LIMIT 5
2026-01-25 16:04:30,328 - nl2sql - INFO - database.py:60 - Execution complete. Returned 3 rows.
2026-01-25 16:04:30,328 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM users WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:30,328 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,333 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT updated_at FROM users WHERE updated_at IS NOT NULL LIMIT 5
2026-01-25 16:04:30,335 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,335 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(transactions);
2026-01-25 16:04:30,340 - nl2sql - INFO - database.py:60 - Execution complete. Returned 14 rows.
2026-01-25 16:04:30,341 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT txn_id FROM transactions WHERE txn_id IS NOT NULL LIMIT 5
2026-01-25 16:04:30,341 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,344 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT user_id FROM transactions WHERE user_id IS NOT NULL LIMIT 5
2026-01-25 16:04:30,345 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,345 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT txn_type FROM transactions WHERE txn_type IS NOT NULL LIMIT 5
2026-01-25 16:04:30,357 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,358 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT instrument FROM transactions WHERE instrument IS NOT NULL LIMIT 5
2026-01-25 16:04:30,362 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,364 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT amount FROM transactions WHERE amount IS NOT NULL LIMIT 5
2026-01-25 16:04:30,366 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,366 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT currency FROM transactions WHERE currency IS NOT NULL LIMIT 5
2026-01-25 16:04:30,396 - nl2sql - INFO - database.py:60 - Execution complete. Returned 1 rows.
2026-01-25 16:04:30,396 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT amount_usd FROM transactions WHERE amount_usd IS NOT NULL LIMIT 5
2026-01-25 16:04:30,396 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,402 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT status FROM transactions WHERE status IS NOT NULL LIMIT 5
2026-01-25 16:04:30,405 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:30,412 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT flag_reason FROM transactions WHERE flag_reason IS NOT NULL LIMIT 5
2026-01-25 16:04:30,431 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:30,433 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT payment_method FROM transactions WHERE payment_method IS NOT NULL LIMIT 5
2026-01-25 16:04:30,453 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:30,453 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT external_ref FROM transactions WHERE external_ref IS NOT NULL LIMIT 5
2026-01-25 16:04:30,453 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,453 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT ip_address FROM transactions WHERE ip_address IS NOT NULL LIMIT 5
2026-01-25 16:04:30,453 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,460 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM transactions WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:30,462 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,462 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT processed_at FROM transactions WHERE processed_at IS NOT NULL LIMIT 5
2026-01-25 16:04:30,462 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,462 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(login_events);
2026-01-25 16:04:30,462 - nl2sql - INFO - database.py:60 - Execution complete. Returned 12 rows.
2026-01-25 16:04:30,469 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT event_id FROM login_events WHERE event_id IS NOT NULL LIMIT 5
2026-01-25 16:04:30,471 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,471 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT user_id FROM login_events WHERE user_id IS NOT NULL LIMIT 5
2026-01-25 16:04:30,471 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,471 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT email_attempted FROM login_events WHERE email_attempted IS NOT NULL LIMIT 5
2026-01-25 16:04:30,477 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,479 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT ip_address FROM login_events WHERE ip_address IS NOT NULL LIMIT 5
2026-01-25 16:04:30,479 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,482 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT country FROM login_events WHERE country IS NOT NULL LIMIT 5
2026-01-25 16:04:30,482 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,485 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT city FROM login_events WHERE city IS NOT NULL LIMIT 5
2026-01-25 16:04:30,494 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:30,494 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT device_type FROM login_events WHERE device_type IS NOT NULL LIMIT 5
2026-01-25 16:04:30,508 - nl2sql - INFO - database.py:60 - Execution complete. Returned 3 rows.
2026-01-25 16:04:30,508 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT device_fingerprint FROM login_events WHERE device_fingerprint IS NOT NULL LIMIT 5
2026-01-25 16:04:30,511 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,512 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT user_agent FROM login_events WHERE user_agent IS NOT NULL LIMIT 5
2026-01-25 16:04:30,524 - nl2sql - INFO - database.py:60 - Execution complete. Returned 1 rows.
2026-01-25 16:04:30,524 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT status FROM login_events WHERE status IS NOT NULL LIMIT 5
2026-01-25 16:04:30,533 - nl2sql - INFO - database.py:60 - Execution complete. Returned 3 rows.
2026-01-25 16:04:30,533 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT failure_reason FROM login_events WHERE failure_reason IS NOT NULL LIMIT 5
2026-01-25 16:04:30,537 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,537 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM login_events WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:30,540 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,541 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(alert_rules);
2026-01-25 16:04:30,541 - nl2sql - INFO - database.py:60 - Execution complete. Returned 7 rows.
2026-01-25 16:04:30,544 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT rule_id FROM alert_rules WHERE rule_id IS NOT NULL LIMIT 5
2026-01-25 16:04:30,544 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,544 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT rule_name FROM alert_rules WHERE rule_name IS NOT NULL LIMIT 5
2026-01-25 16:04:30,544 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,544 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT rule_type FROM alert_rules WHERE rule_type IS NOT NULL LIMIT 5
2026-01-25 16:04:30,544 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,555 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT condition FROM alert_rules WHERE condition IS NOT NULL LIMIT 5
2026-01-25 16:04:30,555 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,555 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT severity FROM alert_rules WHERE severity IS NOT NULL LIMIT 5
2026-01-25 16:04:30,560 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:30,560 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT is_active FROM alert_rules WHERE is_active IS NOT NULL LIMIT 5
2026-01-25 16:04:30,562 - nl2sql - INFO - database.py:60 - Execution complete. Returned 1 rows.
2026-01-25 16:04:30,562 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM alert_rules WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:30,566 - nl2sql - INFO - database.py:60 - Execution complete. Returned 1 rows.
2026-01-25 16:04:30,566 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(alerts);
2026-01-25 16:04:30,568 - nl2sql - INFO - database.py:60 - Execution complete. Returned 12 rows.
2026-01-25 16:04:30,569 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT alert_id FROM alerts WHERE alert_id IS NOT NULL LIMIT 5
2026-01-25 16:04:30,571 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,573 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT rule_name FROM alerts WHERE rule_name IS NOT NULL LIMIT 5
2026-01-25 16:04:30,573 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,575 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT rule_id FROM alerts WHERE rule_id IS NOT NULL LIMIT 5
2026-01-25 16:04:30,576 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,577 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT user_id FROM alerts WHERE user_id IS NOT NULL LIMIT 5
2026-01-25 16:04:30,579 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,581 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT txn_id FROM alerts WHERE txn_id IS NOT NULL LIMIT 5
2026-01-25 16:04:30,582 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,582 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT severity FROM alerts WHERE severity IS NOT NULL LIMIT 5
2026-01-25 16:04:30,584 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:30,584 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT status FROM alerts WHERE status IS NOT NULL LIMIT 5
2026-01-25 16:04:30,584 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:30,584 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT details FROM alerts WHERE details IS NOT NULL LIMIT 5
2026-01-25 16:04:30,590 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,592 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT assigned_to FROM alerts WHERE assigned_to IS NOT NULL LIMIT 5
2026-01-25 16:04:30,594 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:30,594 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT resolved_at FROM alerts WHERE resolved_at IS NOT NULL LIMIT 5
2026-01-25 16:04:30,594 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,594 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT resolution_notes FROM alerts WHERE resolution_notes IS NOT NULL LIMIT 5
2026-01-25 16:04:30,594 - nl2sql - INFO - database.py:60 - Execution complete. Returned 2 rows.
2026-01-25 16:04:30,594 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM alerts WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:30,602 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,602 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(audit_logs);
2026-01-25 16:04:30,602 - nl2sql - INFO - database.py:60 - Execution complete. Returned 8 rows.
2026-01-25 16:04:30,602 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT log_id FROM audit_logs WHERE log_id IS NOT NULL LIMIT 5
2026-01-25 16:04:30,608 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,609 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT actor_id FROM audit_logs WHERE actor_id IS NOT NULL LIMIT 5
2026-01-25 16:04:30,611 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,613 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT action FROM audit_logs WHERE action IS NOT NULL LIMIT 5
2026-01-25 16:04:30,616 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,617 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT resource_type FROM audit_logs WHERE resource_type IS NOT NULL LIMIT 5
2026-01-25 16:04:30,620 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,621 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT resource_id FROM audit_logs WHERE resource_id IS NOT NULL LIMIT 5
2026-01-25 16:04:30,621 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,624 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT query_text FROM audit_logs WHERE query_text IS NOT NULL LIMIT 5
2026-01-25 16:04:30,627 - nl2sql - INFO - database.py:60 - Execution complete. Returned 1 rows.
2026-01-25 16:04:30,627 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT ip_address FROM audit_logs WHERE ip_address IS NOT NULL LIMIT 5
2026-01-25 16:04:30,627 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,632 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM audit_logs WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:30,632 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,632 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(dashboards);
2026-01-25 16:04:30,632 - nl2sql - INFO - database.py:60 - Execution complete. Returned 10 rows.
2026-01-25 16:04:30,632 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT dashboard_id FROM dashboards WHERE dashboard_id IS NOT NULL LIMIT 5
2026-01-25 16:04:30,640 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,641 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT name FROM dashboards WHERE name IS NOT NULL LIMIT 5
2026-01-25 16:04:30,641 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,645 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT owner_id FROM dashboards WHERE owner_id IS NOT NULL LIMIT 5
2026-01-25 16:04:30,647 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,647 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT widgets FROM dashboards WHERE widgets IS NOT NULL LIMIT 5
2026-01-25 16:04:30,649 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,649 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT layout FROM dashboards WHERE layout IS NOT NULL LIMIT 5
2026-01-25 16:04:30,651 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,651 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT is_deployed FROM dashboards WHERE is_deployed IS NOT NULL LIMIT 5
2026-01-25 16:04:30,654 - nl2sql - INFO - database.py:60 - Execution complete. Returned 2 rows.
2026-01-25 16:04:30,656 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT deploy_url FROM dashboards WHERE deploy_url IS NOT NULL LIMIT 5
2026-01-25 16:04:30,658 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,660 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT refresh_interval FROM dashboards WHERE refresh_interval IS NOT NULL LIMIT 5
2026-01-25 16:04:30,662 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,664 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM dashboards WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:30,666 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,666 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT deployed_at FROM dashboards WHERE deployed_at IS NOT NULL LIMIT 5
2026-01-25 16:04:30,669 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:30,669 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(query_history);
2026-01-25 16:04:30,669 - nl2sql - INFO - database.py:60 - Execution complete. Returned 7 rows.
2026-01-25 16:04:30,669 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT query_id FROM query_history WHERE query_id IS NOT NULL LIMIT 5
2026-01-25 16:04:30,669 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:30,669 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT user_id FROM query_history WHERE user_id IS NOT NULL LIMIT 5
2026-01-25 16:04:30,678 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:30,678 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT nl_query FROM query_history WHERE nl_query IS NOT NULL LIMIT 5
2026-01-25 16:04:30,681 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:30,683 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT generated_sql FROM query_history WHERE generated_sql IS NOT NULL LIMIT 5
2026-01-25 16:04:30,685 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:30,685 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT result_count FROM query_history WHERE result_count IS NOT NULL LIMIT 5
2026-01-25 16:04:30,688 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:30,688 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT is_favorite FROM query_history WHERE is_favorite IS NOT NULL LIMIT 5
2026-01-25 16:04:30,691 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:30,693 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM query_history WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:30,695 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:30,695 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert Data Scientist and System Archi...
2026-01-25 16:04:34,914 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "refined_schema_context": "The databas...
2026-01-25 16:04:34,929 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite_%';
2026-01-25 16:04:34,933 - nl2sql - INFO - database.py:60 - Execution complete. Returned 8 rows.
2026-01-25 16:04:34,935 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(users);
2026-01-25 16:04:34,937 - nl2sql - INFO - database.py:60 - Execution complete. Returned 15 rows.
2026-01-25 16:04:34,939 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT user_id FROM users WHERE user_id IS NOT NULL LIMIT 5
2026-01-25 16:04:34,942 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:34,943 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT email FROM users WHERE email IS NOT NULL LIMIT 5
2026-01-25 16:04:34,945 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:34,946 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT full_name FROM users WHERE full_name IS NOT NULL LIMIT 5
2026-01-25 16:04:34,947 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:34,947 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT country FROM users WHERE country IS NOT NULL LIMIT 5
2026-01-25 16:04:34,953 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:34,954 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT phone FROM users WHERE phone IS NOT NULL LIMIT 5
2026-01-25 16:04:34,957 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:34,957 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT date_of_birth FROM users WHERE date_of_birth IS NOT NULL LIMIT 5
2026-01-25 16:04:34,957 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:34,957 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT kyc_status FROM users WHERE kyc_status IS NOT NULL LIMIT 5
2026-01-25 16:04:34,962 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:34,962 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT kyc_verified_at FROM users WHERE kyc_verified_at IS NOT NULL LIMIT 5
2026-01-25 16:04:34,964 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:34,964 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT kyc_expiry_date FROM users WHERE kyc_expiry_date IS NOT NULL LIMIT 5
2026-01-25 16:04:34,964 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:34,964 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT risk_level FROM users WHERE risk_level IS NOT NULL LIMIT 5
2026-01-25 16:04:34,970 - nl2sql - INFO - database.py:60 - Execution complete. Returned 3 rows.
2026-01-25 16:04:34,971 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT risk_score FROM users WHERE risk_score IS NOT NULL LIMIT 5
2026-01-25 16:04:34,971 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:34,971 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT is_pep FROM users WHERE is_pep IS NOT NULL LIMIT 5
2026-01-25 16:04:34,971 - nl2sql - INFO - database.py:60 - Execution complete. Returned 2 rows.
2026-01-25 16:04:34,978 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT account_status FROM users WHERE account_status IS NOT NULL LIMIT 5
2026-01-25 16:04:34,980 - nl2sql - INFO - database.py:60 - Execution complete. Returned 3 rows.
2026-01-25 16:04:34,980 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM users WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:34,983 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:34,983 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT updated_at FROM users WHERE updated_at IS NOT NULL LIMIT 5
2026-01-25 16:04:34,987 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:34,987 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(transactions);
2026-01-25 16:04:34,987 - nl2sql - INFO - database.py:60 - Execution complete. Returned 14 rows.
2026-01-25 16:04:34,990 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT txn_id FROM transactions WHERE txn_id IS NOT NULL LIMIT 5
2026-01-25 16:04:34,992 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:34,992 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT user_id FROM transactions WHERE user_id IS NOT NULL LIMIT 5
2026-01-25 16:04:34,992 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:34,992 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT txn_type FROM transactions WHERE txn_type IS NOT NULL LIMIT 5
2026-01-25 16:04:35,002 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,002 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT instrument FROM transactions WHERE instrument IS NOT NULL LIMIT 5
2026-01-25 16:04:35,002 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,002 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT amount FROM transactions WHERE amount IS NOT NULL LIMIT 5
2026-01-25 16:04:35,002 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,012 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT currency FROM transactions WHERE currency IS NOT NULL LIMIT 5
2026-01-25 16:04:35,028 - nl2sql - INFO - database.py:60 - Execution complete. Returned 1 rows.
2026-01-25 16:04:35,028 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT amount_usd FROM transactions WHERE amount_usd IS NOT NULL LIMIT 5
2026-01-25 16:04:35,028 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,033 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT status FROM transactions WHERE status IS NOT NULL LIMIT 5
2026-01-25 16:04:35,036 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:35,040 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT flag_reason FROM transactions WHERE flag_reason IS NOT NULL LIMIT 5
2026-01-25 16:04:35,044 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:35,057 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT payment_method FROM transactions WHERE payment_method IS NOT NULL LIMIT 5
2026-01-25 16:04:35,080 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:35,082 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT external_ref FROM transactions WHERE external_ref IS NOT NULL LIMIT 5
2026-01-25 16:04:35,084 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,085 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT ip_address FROM transactions WHERE ip_address IS NOT NULL LIMIT 5
2026-01-25 16:04:35,087 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,087 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM transactions WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:35,090 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,092 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT processed_at FROM transactions WHERE processed_at IS NOT NULL LIMIT 5
2026-01-25 16:04:35,094 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,094 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(login_events);
2026-01-25 16:04:35,094 - nl2sql - INFO - database.py:60 - Execution complete. Returned 12 rows.
2026-01-25 16:04:35,094 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT event_id FROM login_events WHERE event_id IS NOT NULL LIMIT 5
2026-01-25 16:04:35,094 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,102 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT user_id FROM login_events WHERE user_id IS NOT NULL LIMIT 5
2026-01-25 16:04:35,104 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,104 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT email_attempted FROM login_events WHERE email_attempted IS NOT NULL LIMIT 5
2026-01-25 16:04:35,104 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,104 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT ip_address FROM login_events WHERE ip_address IS NOT NULL LIMIT 5
2026-01-25 16:04:35,111 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,112 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT country FROM login_events WHERE country IS NOT NULL LIMIT 5
2026-01-25 16:04:35,112 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,112 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT city FROM login_events WHERE city IS NOT NULL LIMIT 5
2026-01-25 16:04:35,128 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:35,128 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT device_type FROM login_events WHERE device_type IS NOT NULL LIMIT 5
2026-01-25 16:04:35,140 - nl2sql - INFO - database.py:60 - Execution complete. Returned 3 rows.
2026-01-25 16:04:35,142 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT device_fingerprint FROM login_events WHERE device_fingerprint IS NOT NULL LIMIT 5
2026-01-25 16:04:35,143 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,143 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT user_agent FROM login_events WHERE user_agent IS NOT NULL LIMIT 5
2026-01-25 16:04:35,152 - nl2sql - INFO - database.py:60 - Execution complete. Returned 1 rows.
2026-01-25 16:04:35,152 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT status FROM login_events WHERE status IS NOT NULL LIMIT 5
2026-01-25 16:04:35,158 - nl2sql - INFO - database.py:60 - Execution complete. Returned 3 rows.
2026-01-25 16:04:35,160 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT failure_reason FROM login_events WHERE failure_reason IS NOT NULL LIMIT 5
2026-01-25 16:04:35,162 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,162 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM login_events WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:35,162 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,162 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(alert_rules);
2026-01-25 16:04:35,162 - nl2sql - INFO - database.py:60 - Execution complete. Returned 7 rows.
2026-01-25 16:04:35,162 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT rule_id FROM alert_rules WHERE rule_id IS NOT NULL LIMIT 5
2026-01-25 16:04:35,169 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,169 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT rule_name FROM alert_rules WHERE rule_name IS NOT NULL LIMIT 5
2026-01-25 16:04:35,169 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,169 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT rule_type FROM alert_rules WHERE rule_type IS NOT NULL LIMIT 5
2026-01-25 16:04:35,169 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,169 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT condition FROM alert_rules WHERE condition IS NOT NULL LIMIT 5
2026-01-25 16:04:35,177 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,178 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT severity FROM alert_rules WHERE severity IS NOT NULL LIMIT 5
2026-01-25 16:04:35,180 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:35,180 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT is_active FROM alert_rules WHERE is_active IS NOT NULL LIMIT 5
2026-01-25 16:04:35,180 - nl2sql - INFO - database.py:60 - Execution complete. Returned 1 rows.
2026-01-25 16:04:35,183 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM alert_rules WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:35,186 - nl2sql - INFO - database.py:60 - Execution complete. Returned 1 rows.
2026-01-25 16:04:35,186 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(alerts);
2026-01-25 16:04:35,186 - nl2sql - INFO - database.py:60 - Execution complete. Returned 12 rows.
2026-01-25 16:04:35,190 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT alert_id FROM alerts WHERE alert_id IS NOT NULL LIMIT 5
2026-01-25 16:04:35,191 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,193 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT rule_name FROM alerts WHERE rule_name IS NOT NULL LIMIT 5
2026-01-25 16:04:35,194 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,194 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT rule_id FROM alerts WHERE rule_id IS NOT NULL LIMIT 5
2026-01-25 16:04:35,194 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,194 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT user_id FROM alerts WHERE user_id IS NOT NULL LIMIT 5
2026-01-25 16:04:35,194 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,194 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT txn_id FROM alerts WHERE txn_id IS NOT NULL LIMIT 5
2026-01-25 16:04:35,202 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,202 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT severity FROM alerts WHERE severity IS NOT NULL LIMIT 5
2026-01-25 16:04:35,202 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:35,202 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT status FROM alerts WHERE status IS NOT NULL LIMIT 5
2026-01-25 16:04:35,202 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:35,209 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT details FROM alerts WHERE details IS NOT NULL LIMIT 5
2026-01-25 16:04:35,210 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,212 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT assigned_to FROM alerts WHERE assigned_to IS NOT NULL LIMIT 5
2026-01-25 16:04:35,212 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:35,212 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT resolved_at FROM alerts WHERE resolved_at IS NOT NULL LIMIT 5
2026-01-25 16:04:35,212 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,217 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT resolution_notes FROM alerts WHERE resolution_notes IS NOT NULL LIMIT 5
2026-01-25 16:04:35,219 - nl2sql - INFO - database.py:60 - Execution complete. Returned 2 rows.
2026-01-25 16:04:35,219 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM alerts WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:35,219 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,219 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(audit_logs);
2026-01-25 16:04:35,219 - nl2sql - INFO - database.py:60 - Execution complete. Returned 8 rows.
2026-01-25 16:04:35,219 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT log_id FROM audit_logs WHERE log_id IS NOT NULL LIMIT 5
2026-01-25 16:04:35,226 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,228 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT actor_id FROM audit_logs WHERE actor_id IS NOT NULL LIMIT 5
2026-01-25 16:04:35,228 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,228 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT action FROM audit_logs WHERE action IS NOT NULL LIMIT 5
2026-01-25 16:04:35,232 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,232 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT resource_type FROM audit_logs WHERE resource_type IS NOT NULL LIMIT 5
2026-01-25 16:04:35,234 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,235 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT resource_id FROM audit_logs WHERE resource_id IS NOT NULL LIMIT 5
2026-01-25 16:04:35,235 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,235 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT query_text FROM audit_logs WHERE query_text IS NOT NULL LIMIT 5
2026-01-25 16:04:35,240 - nl2sql - INFO - database.py:60 - Execution complete. Returned 1 rows.
2026-01-25 16:04:35,242 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT ip_address FROM audit_logs WHERE ip_address IS NOT NULL LIMIT 5
2026-01-25 16:04:35,242 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,242 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM audit_logs WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:35,242 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,242 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(dashboards);
2026-01-25 16:04:35,242 - nl2sql - INFO - database.py:60 - Execution complete. Returned 10 rows.
2026-01-25 16:04:35,242 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT dashboard_id FROM dashboards WHERE dashboard_id IS NOT NULL LIMIT 5
2026-01-25 16:04:35,242 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,242 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT name FROM dashboards WHERE name IS NOT NULL LIMIT 5
2026-01-25 16:04:35,250 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,253 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT owner_id FROM dashboards WHERE owner_id IS NOT NULL LIMIT 5
2026-01-25 16:04:35,253 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,253 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT widgets FROM dashboards WHERE widgets IS NOT NULL LIMIT 5
2026-01-25 16:04:35,253 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,253 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT layout FROM dashboards WHERE layout IS NOT NULL LIMIT 5
2026-01-25 16:04:35,253 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,253 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT is_deployed FROM dashboards WHERE is_deployed IS NOT NULL LIMIT 5
2026-01-25 16:04:35,259 - nl2sql - INFO - database.py:60 - Execution complete. Returned 2 rows.
2026-01-25 16:04:35,260 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT deploy_url FROM dashboards WHERE deploy_url IS NOT NULL LIMIT 5
2026-01-25 16:04:35,262 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,262 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT refresh_interval FROM dashboards WHERE refresh_interval IS NOT NULL LIMIT 5
2026-01-25 16:04:35,262 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,262 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM dashboards WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:35,262 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,267 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT deployed_at FROM dashboards WHERE deployed_at IS NOT NULL LIMIT 5
2026-01-25 16:04:35,267 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:35,267 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(query_history);
2026-01-25 16:04:35,267 - nl2sql - INFO - database.py:60 - Execution complete. Returned 7 rows.
2026-01-25 16:04:35,267 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT query_id FROM query_history WHERE query_id IS NOT NULL LIMIT 5
2026-01-25 16:04:35,267 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:35,275 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT user_id FROM query_history WHERE user_id IS NOT NULL LIMIT 5
2026-01-25 16:04:35,277 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:35,278 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT nl_query FROM query_history WHERE nl_query IS NOT NULL LIMIT 5
2026-01-25 16:04:35,280 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:35,280 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT generated_sql FROM query_history WHERE generated_sql IS NOT NULL LIMIT 5
2026-01-25 16:04:35,282 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:35,282 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT result_count FROM query_history WHERE result_count IS NOT NULL LIMIT 5
2026-01-25 16:04:35,283 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:35,285 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT is_favorite FROM query_history WHERE is_favorite IS NOT NULL LIMIT 5
2026-01-25 16:04:35,287 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:35,287 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM query_history WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:35,287 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:35,290 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert Data Scientist and System Archi...
2026-01-25 16:04:39,454 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "refined_schema_context": "The databas...
2026-01-25 16:04:39,500 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT name FROM sqlite_master WHERE type='table' AND name NOT LIKE 'sqlite_%';
2026-01-25 16:04:39,502 - nl2sql - INFO - database.py:60 - Execution complete. Returned 8 rows.
2026-01-25 16:04:39,503 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(users);
2026-01-25 16:04:39,505 - nl2sql - INFO - database.py:60 - Execution complete. Returned 15 rows.
2026-01-25 16:04:39,507 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT user_id FROM users WHERE user_id IS NOT NULL LIMIT 5
2026-01-25 16:04:39,507 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,507 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT email FROM users WHERE email IS NOT NULL LIMIT 5
2026-01-25 16:04:39,511 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,513 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT full_name FROM users WHERE full_name IS NOT NULL LIMIT 5
2026-01-25 16:04:39,513 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,513 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT country FROM users WHERE country IS NOT NULL LIMIT 5
2026-01-25 16:04:39,518 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,519 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT phone FROM users WHERE phone IS NOT NULL LIMIT 5
2026-01-25 16:04:39,520 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,520 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT date_of_birth FROM users WHERE date_of_birth IS NOT NULL LIMIT 5
2026-01-25 16:04:39,524 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,524 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT kyc_status FROM users WHERE kyc_status IS NOT NULL LIMIT 5
2026-01-25 16:04:39,524 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:39,524 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT kyc_verified_at FROM users WHERE kyc_verified_at IS NOT NULL LIMIT 5
2026-01-25 16:04:39,529 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,529 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT kyc_expiry_date FROM users WHERE kyc_expiry_date IS NOT NULL LIMIT 5
2026-01-25 16:04:39,529 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,532 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT risk_level FROM users WHERE risk_level IS NOT NULL LIMIT 5
2026-01-25 16:04:39,532 - nl2sql - INFO - database.py:60 - Execution complete. Returned 3 rows.
2026-01-25 16:04:39,534 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT risk_score FROM users WHERE risk_score IS NOT NULL LIMIT 5
2026-01-25 16:04:39,534 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,534 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT is_pep FROM users WHERE is_pep IS NOT NULL LIMIT 5
2026-01-25 16:04:39,534 - nl2sql - INFO - database.py:60 - Execution complete. Returned 2 rows.
2026-01-25 16:04:39,540 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT account_status FROM users WHERE account_status IS NOT NULL LIMIT 5
2026-01-25 16:04:39,542 - nl2sql - INFO - database.py:60 - Execution complete. Returned 3 rows.
2026-01-25 16:04:39,542 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM users WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:39,542 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,544 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT updated_at FROM users WHERE updated_at IS NOT NULL LIMIT 5
2026-01-25 16:04:39,546 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,546 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(transactions);
2026-01-25 16:04:39,546 - nl2sql - INFO - database.py:60 - Execution complete. Returned 14 rows.
2026-01-25 16:04:39,546 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT txn_id FROM transactions WHERE txn_id IS NOT NULL LIMIT 5
2026-01-25 16:04:39,553 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,555 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT user_id FROM transactions WHERE user_id IS NOT NULL LIMIT 5
2026-01-25 16:04:39,555 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,555 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT txn_type FROM transactions WHERE txn_type IS NOT NULL LIMIT 5
2026-01-25 16:04:39,562 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,562 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT instrument FROM transactions WHERE instrument IS NOT NULL LIMIT 5
2026-01-25 16:04:39,562 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,562 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT amount FROM transactions WHERE amount IS NOT NULL LIMIT 5
2026-01-25 16:04:39,562 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,562 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT currency FROM transactions WHERE currency IS NOT NULL LIMIT 5
2026-01-25 16:04:39,588 - nl2sql - INFO - database.py:60 - Execution complete. Returned 1 rows.
2026-01-25 16:04:39,591 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT amount_usd FROM transactions WHERE amount_usd IS NOT NULL LIMIT 5
2026-01-25 16:04:39,591 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,591 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT status FROM transactions WHERE status IS NOT NULL LIMIT 5
2026-01-25 16:04:39,600 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:39,600 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT flag_reason FROM transactions WHERE flag_reason IS NOT NULL LIMIT 5
2026-01-25 16:04:39,616 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:39,616 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT payment_method FROM transactions WHERE payment_method IS NOT NULL LIMIT 5
2026-01-25 16:04:39,636 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:39,637 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT external_ref FROM transactions WHERE external_ref IS NOT NULL LIMIT 5
2026-01-25 16:04:39,637 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,637 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT ip_address FROM transactions WHERE ip_address IS NOT NULL LIMIT 5
2026-01-25 16:04:39,640 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,642 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM transactions WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:39,643 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,644 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT processed_at FROM transactions WHERE processed_at IS NOT NULL LIMIT 5
2026-01-25 16:04:39,644 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,644 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(login_events);
2026-01-25 16:04:39,644 - nl2sql - INFO - database.py:60 - Execution complete. Returned 12 rows.
2026-01-25 16:04:39,644 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT event_id FROM login_events WHERE event_id IS NOT NULL LIMIT 5
2026-01-25 16:04:39,644 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,651 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT user_id FROM login_events WHERE user_id IS NOT NULL LIMIT 5
2026-01-25 16:04:39,652 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,652 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT email_attempted FROM login_events WHERE email_attempted IS NOT NULL LIMIT 5
2026-01-25 16:04:39,655 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,655 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT ip_address FROM login_events WHERE ip_address IS NOT NULL LIMIT 5
2026-01-25 16:04:39,655 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,655 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT country FROM login_events WHERE country IS NOT NULL LIMIT 5
2026-01-25 16:04:39,660 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,661 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT city FROM login_events WHERE city IS NOT NULL LIMIT 5
2026-01-25 16:04:39,669 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:39,669 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT device_type FROM login_events WHERE device_type IS NOT NULL LIMIT 5
2026-01-25 16:04:39,678 - nl2sql - INFO - database.py:60 - Execution complete. Returned 3 rows.
2026-01-25 16:04:39,678 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT device_fingerprint FROM login_events WHERE device_fingerprint IS NOT NULL LIMIT 5
2026-01-25 16:04:39,696 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,698 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT user_agent FROM login_events WHERE user_agent IS NOT NULL LIMIT 5
2026-01-25 16:04:39,706 - nl2sql - INFO - database.py:60 - Execution complete. Returned 1 rows.
2026-01-25 16:04:39,709 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT status FROM login_events WHERE status IS NOT NULL LIMIT 5
2026-01-25 16:04:39,712 - nl2sql - INFO - database.py:60 - Execution complete. Returned 3 rows.
2026-01-25 16:04:39,714 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT failure_reason FROM login_events WHERE failure_reason IS NOT NULL LIMIT 5
2026-01-25 16:04:39,716 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,716 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM login_events WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:39,718 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,719 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(alert_rules);
2026-01-25 16:04:39,721 - nl2sql - INFO - database.py:60 - Execution complete. Returned 7 rows.
2026-01-25 16:04:39,723 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT rule_id FROM alert_rules WHERE rule_id IS NOT NULL LIMIT 5
2026-01-25 16:04:39,723 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,723 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT rule_name FROM alert_rules WHERE rule_name IS NOT NULL LIMIT 5
2026-01-25 16:04:39,725 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,726 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT rule_type FROM alert_rules WHERE rule_type IS NOT NULL LIMIT 5
2026-01-25 16:04:39,729 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,729 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT condition FROM alert_rules WHERE condition IS NOT NULL LIMIT 5
2026-01-25 16:04:39,731 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,732 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT severity FROM alert_rules WHERE severity IS NOT NULL LIMIT 5
2026-01-25 16:04:39,733 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:39,734 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT is_active FROM alert_rules WHERE is_active IS NOT NULL LIMIT 5
2026-01-25 16:04:39,735 - nl2sql - INFO - database.py:60 - Execution complete. Returned 1 rows.
2026-01-25 16:04:39,735 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM alert_rules WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:39,735 - nl2sql - INFO - database.py:60 - Execution complete. Returned 1 rows.
2026-01-25 16:04:39,735 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(alerts);
2026-01-25 16:04:39,740 - nl2sql - INFO - database.py:60 - Execution complete. Returned 12 rows.
2026-01-25 16:04:39,741 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT alert_id FROM alerts WHERE alert_id IS NOT NULL LIMIT 5
2026-01-25 16:04:39,743 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,745 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT rule_name FROM alerts WHERE rule_name IS NOT NULL LIMIT 5
2026-01-25 16:04:39,745 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,745 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT rule_id FROM alerts WHERE rule_id IS NOT NULL LIMIT 5
2026-01-25 16:04:39,745 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,745 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT user_id FROM alerts WHERE user_id IS NOT NULL LIMIT 5
2026-01-25 16:04:39,745 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,752 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT txn_id FROM alerts WHERE txn_id IS NOT NULL LIMIT 5
2026-01-25 16:04:39,752 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,752 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT severity FROM alerts WHERE severity IS NOT NULL LIMIT 5
2026-01-25 16:04:39,752 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:39,752 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT status FROM alerts WHERE status IS NOT NULL LIMIT 5
2026-01-25 16:04:39,752 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:04:39,759 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT details FROM alerts WHERE details IS NOT NULL LIMIT 5
2026-01-25 16:04:39,760 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,761 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT assigned_to FROM alerts WHERE assigned_to IS NOT NULL LIMIT 5
2026-01-25 16:04:39,762 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:39,762 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT resolved_at FROM alerts WHERE resolved_at IS NOT NULL LIMIT 5
2026-01-25 16:04:39,764 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,764 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT resolution_notes FROM alerts WHERE resolution_notes IS NOT NULL LIMIT 5
2026-01-25 16:04:39,766 - nl2sql - INFO - database.py:60 - Execution complete. Returned 2 rows.
2026-01-25 16:04:39,766 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM alerts WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:39,766 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,766 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(audit_logs);
2026-01-25 16:04:39,766 - nl2sql - INFO - database.py:60 - Execution complete. Returned 8 rows.
2026-01-25 16:04:39,766 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT log_id FROM audit_logs WHERE log_id IS NOT NULL LIMIT 5
2026-01-25 16:04:39,766 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,775 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT actor_id FROM audit_logs WHERE actor_id IS NOT NULL LIMIT 5
2026-01-25 16:04:39,776 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,778 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT action FROM audit_logs WHERE action IS NOT NULL LIMIT 5
2026-01-25 16:04:39,781 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,781 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT resource_type FROM audit_logs WHERE resource_type IS NOT NULL LIMIT 5
2026-01-25 16:04:39,783 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,783 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT resource_id FROM audit_logs WHERE resource_id IS NOT NULL LIMIT 5
2026-01-25 16:04:39,785 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,785 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT query_text FROM audit_logs WHERE query_text IS NOT NULL LIMIT 5
2026-01-25 16:04:39,794 - nl2sql - INFO - database.py:60 - Execution complete. Returned 1 rows.
2026-01-25 16:04:39,796 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT ip_address FROM audit_logs WHERE ip_address IS NOT NULL LIMIT 5
2026-01-25 16:04:39,797 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,799 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM audit_logs WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:39,799 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,801 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(dashboards);
2026-01-25 16:04:39,804 - nl2sql - INFO - database.py:60 - Execution complete. Returned 10 rows.
2026-01-25 16:04:39,804 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT dashboard_id FROM dashboards WHERE dashboard_id IS NOT NULL LIMIT 5
2026-01-25 16:04:39,805 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,805 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT name FROM dashboards WHERE name IS NOT NULL LIMIT 5
2026-01-25 16:04:39,809 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,811 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT owner_id FROM dashboards WHERE owner_id IS NOT NULL LIMIT 5
2026-01-25 16:04:39,813 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,815 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT widgets FROM dashboards WHERE widgets IS NOT NULL LIMIT 5
2026-01-25 16:04:39,815 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,817 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT layout FROM dashboards WHERE layout IS NOT NULL LIMIT 5
2026-01-25 16:04:39,820 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,821 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT is_deployed FROM dashboards WHERE is_deployed IS NOT NULL LIMIT 5
2026-01-25 16:04:39,821 - nl2sql - INFO - database.py:60 - Execution complete. Returned 2 rows.
2026-01-25 16:04:39,821 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT deploy_url FROM dashboards WHERE deploy_url IS NOT NULL LIMIT 5
2026-01-25 16:04:39,828 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,828 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT refresh_interval FROM dashboards WHERE refresh_interval IS NOT NULL LIMIT 5
2026-01-25 16:04:39,831 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,832 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM dashboards WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:39,833 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,835 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT deployed_at FROM dashboards WHERE deployed_at IS NOT NULL LIMIT 5
2026-01-25 16:04:39,835 - nl2sql - INFO - database.py:60 - Execution complete. Returned 5 rows.
2026-01-25 16:04:39,835 - nl2sql - INFO - database.py:53 - Executing SQL: PRAGMA table_info(query_history);
2026-01-25 16:04:39,842 - nl2sql - INFO - database.py:60 - Execution complete. Returned 7 rows.
2026-01-25 16:04:39,842 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT query_id FROM query_history WHERE query_id IS NOT NULL LIMIT 5
2026-01-25 16:04:39,844 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:39,844 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT user_id FROM query_history WHERE user_id IS NOT NULL LIMIT 5
2026-01-25 16:04:39,848 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:39,848 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT nl_query FROM query_history WHERE nl_query IS NOT NULL LIMIT 5
2026-01-25 16:04:39,851 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:39,853 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT generated_sql FROM query_history WHERE generated_sql IS NOT NULL LIMIT 5
2026-01-25 16:04:39,855 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:39,855 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT result_count FROM query_history WHERE result_count IS NOT NULL LIMIT 5
2026-01-25 16:04:39,855 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:39,864 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT is_favorite FROM query_history WHERE is_favorite IS NOT NULL LIMIT 5
2026-01-25 16:04:39,867 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:39,873 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT DISTINCT created_at FROM query_history WHERE created_at IS NOT NULL LIMIT 5
2026-01-25 16:04:39,875 - nl2sql - INFO - database.py:60 - Execution complete. Returned 0 rows.
2026-01-25 16:04:39,880 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert Data Scientist and System Archi...
2026-01-25 16:04:44,752 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "refined_schema_context": "The databas...
2026-01-25 16:31:11,686 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_hackathon.db
2026-01-25 16:31:11,686 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_hackathon.db
2026-01-25 16:31:11,747 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 16:31:11,752 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 16:31:24,874 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_hackathon.db
2026-01-25 16:31:24,908 - nl2sql - INFO - main.py:11 - Starting NL2SQL Pipeline on port 8080...
2026-01-25 16:32:49,822 - nl2sql - INFO - endpoints.py:14 - Incoming query: what are the complaince data capabilities | Domain: compliance
2026-01-25 16:32:49,834 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 16:32:49,842 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: compliance | Query: what are the complaince data capabilities
2026-01-25 16:32:49,852 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 16:32:51,254 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SCHEMA_QUERY",
  "confidenc...
2026-01-25 16:32:51,255 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SCHEMA_QUERY (conf: 0.8) | Needs Clarification: False
2026-01-25 16:32:51,255 - nl2sql - INFO - workflow.py:24 - Intent classified: SCHEMA_QUERY (conf: 0.8) | Needs Clarification: False
2026-01-25 16:32:51,270 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-01-25 16:32:52,368 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {},
  "metadata":...
2026-01-25 16:32:52,368 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-01-25 16:32:52,378 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
        You are a Database Expert. The user wants...
2026-01-25 16:32:59,181 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: As a Database Expert, I can help you understand th...
2026-01-25 16:32:59,186 - nl2sql - INFO - endpoints.py:24 - Graph execution status: needs_clarification for query: what are the complaince data capabilities
2026-01-25 16:34:32,592 - nl2sql - INFO - endpoints.py:14 - Incoming query: How many users are in each kyc_status category (e.g., PENDING, VERIFIED)? | Domain: compliance
2026-01-25 16:34:32,598 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 16:34:32,598 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: compliance | Query: How many users are in each kyc_status category (e.g., PENDING, VERIFIED)?
2026-01-25 16:34:32,606 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 16:34:33,492 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 1....
2026-01-25 16:34:33,492 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 1.0) | Needs Clarification: False
2026-01-25 16:34:33,496 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 1.0) | Needs Clarification: False
2026-01-25 16:34:33,505 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-01-25 16:34:34,155 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {
    "kyc_status...
2026-01-25 16:34:34,155 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {'kyc_status': ['PENDING', 'VERIFIED']}
2026-01-25 16:34:34,163 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-01-25 16:34:34,170 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: compliance | Query: How many users are in each kyc_status category (e.g., PENDING, VERIFIED)?
2026-01-25 16:34:34,170 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the complianc...
2026-01-25 16:34:34,894 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT kyc_status, COUNT(*) FROM users GROUP BY ky...
2026-01-25 16:34:34,897 - nl2sql - INFO - sql_generation.py:91 - SQL Generated and cleaned: SELECT kyc_status, COUNT(*) FROM users GROUP BY ky...
2026-01-25 16:34:34,903 - nl2sql - INFO - workflow.py:63 - SQL Generated: SELECT kyc_status, COUNT(*) FROM users GROUP BY ky...
2026-01-25 16:34:34,903 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 16:34:34,921 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-01-25 16:34:34,928 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT kyc_status, COUNT(*) FROM users GROUP BY kyc_status
2026-01-25 16:34:34,942 - nl2sql - INFO - database.py:60 - Execution complete. Returned 4 rows.
2026-01-25 16:34:34,946 - nl2sql - INFO - workflow.py:92 - Query execution returned 4 rows.
2026-01-25 16:34:34,952 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a data visualization expert. Recommend th...
2026-01-25 16:34:35,798 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "chart_type": "bar",
  "title": "User ...
2026-01-25 16:34:35,801 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: How many users are in each kyc_status category (e.g., PENDING, VERIFIED)?
2026-01-25 16:34:35,801 - nl2sql - INFO - endpoints.py:48 - Query success! 4 rows returned.
2026-01-25 16:34:48,313 - nl2sql - INFO - endpoints.py:14 - Incoming query: Show me all high severity incidents | Domain: compliance
2026-01-25 16:34:48,313 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 16:34:48,321 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: compliance | Query: Show me all high severity incidents
2026-01-25 16:34:48,321 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 16:34:49,525 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 0....
2026-01-25 16:34:49,528 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 0.9) | Needs Clarification: False
2026-01-25 16:34:49,531 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.9) | Needs Clarification: False
2026-01-25 16:34:49,536 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-01-25 16:34:50,629 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {
    "severity":...
2026-01-25 16:34:50,630 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {'severity': 'HIGH'}
2026-01-25 16:34:50,635 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-01-25 16:34:50,641 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: compliance | Query: Show me all high severity incidents
2026-01-25 16:34:50,643 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the complianc...
2026-01-25 16:34:51,442 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT * FROM alerts WHERE severity = 'HIGH'...
2026-01-25 16:34:51,442 - nl2sql - INFO - sql_generation.py:91 - SQL Generated and cleaned: SELECT * FROM alerts WHERE severity = 'HIGH'...
2026-01-25 16:34:51,447 - nl2sql - INFO - workflow.py:63 - SQL Generated: SELECT * FROM alerts WHERE severity = 'HIGH'...
2026-01-25 16:34:51,454 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 16:34:51,465 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-01-25 16:34:51,466 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT * FROM alerts WHERE severity = 'HIGH'
2026-01-25 16:34:51,493 - nl2sql - INFO - database.py:60 - Execution complete. Returned 239 rows.
2026-01-25 16:34:51,493 - nl2sql - INFO - workflow.py:92 - Query execution returned 239 rows.
2026-01-25 16:34:51,499 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a data visualization expert. Recommend th...
2026-01-25 16:34:52,596 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "chart_type": "table",
  "title": "Hig...
2026-01-25 16:34:52,610 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: Show me all high severity incidents
2026-01-25 16:34:52,612 - nl2sql - INFO - endpoints.py:48 - Query success! 239 rows returned.
2026-01-25 16:40:55,802 - nl2sql - INFO - endpoints.py:14 - Incoming query: show me user with rsik score more than 25 | Domain: compliance
2026-01-25 16:40:55,811 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 16:40:55,813 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: compliance | Query: show me user with rsik score more than 25
2026-01-25 16:40:55,815 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 16:40:56,712 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 1....
2026-01-25 16:40:56,714 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 1.0) | Needs Clarification: False
2026-01-25 16:40:56,714 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 1.0) | Needs Clarification: False
2026-01-25 16:40:56,722 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-01-25 16:40:57,592 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {},
  "metadata":...
2026-01-25 16:40:57,592 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-01-25 16:40:57,599 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-01-25 16:40:57,599 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: compliance | Query: show me user with rsik score more than 25
2026-01-25 16:40:57,606 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the complianc...
2026-01-25 16:40:59,091 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: Error: The provided schema does not contain a 'ris...
2026-01-25 16:40:59,091 - nl2sql - WARNING - sql_generation.py:80 - SQL Generation guidance response for query: show me user with rsik score more than 25 | Msg: Error: The provided schema does not contain a 'ris...
2026-01-25 16:40:59,091 - nl2sql - INFO - workflow.py:63 - SQL Generated: Error: The provided schema does not contain a 'ris...
2026-01-25 16:40:59,099 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 16:40:59,107 - nl2sql - WARNING - workflow.py:71 - SQL Validation Error: Invalid expression / Unexpected token. Line 1, Col: 19.
  Error: The [4mprovided[0m schema does not contain a 'risk_score' column for users or a direct way to query by a numerical ris
2026-01-25 16:40:59,114 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a SQL expert. The following SQLite query ...
2026-01-25 16:41:00,094 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT * FROM users WHERE risk_level = 'HIGH'...
2026-01-25 16:41:00,101 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 16:41:00,113 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-01-25 16:41:00,114 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT * FROM users WHERE risk_level = 'HIGH'
2026-01-25 16:41:00,117 - nl2sql - INFO - database.py:60 - Execution complete. Returned 17 rows.
2026-01-25 16:41:00,119 - nl2sql - INFO - workflow.py:92 - Query execution returned 17 rows.
2026-01-25 16:41:00,123 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a data visualization expert. Recommend th...
2026-01-25 16:41:01,290 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "chart_type": "table",
  "title": "Use...
2026-01-25 16:41:01,294 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: show me user with rsik score more than 25
2026-01-25 16:41:01,294 - nl2sql - INFO - endpoints.py:48 - Query success! 17 rows returned.
2026-01-25 16:42:07,983 - nl2sql - INFO - endpoints.py:14 - Incoming query: show me users with risk score more than 25 | Domain: general
2026-01-25 16:42:07,984 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-01-25 16:42:07,991 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: general | Query: show me users with risk score more than 25
2026-01-25 16:42:08,000 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-01-25 16:42:09,607 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 1....
2026-01-25 16:42:09,609 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 1.0) | Needs Clarification: False
2026-01-25 16:42:09,609 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 1.0) | Needs Clarification: False
2026-01-25 16:42:09,613 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-01-25 16:42:10,456 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {
    "risk_score...
2026-01-25 16:42:10,458 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {'risk_score': 25}
2026-01-25 16:42:10,462 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-01-25 16:42:10,471 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: general | Query: show me users with risk score more than 25
2026-01-25 16:42:10,476 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the general d...
2026-01-25 16:42:11,105 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT user_id, full_name, risk_score FROM users W...
2026-01-25 16:42:11,105 - nl2sql - INFO - sql_generation.py:91 - SQL Generated and cleaned: SELECT user_id, full_name, risk_score FROM users W...
2026-01-25 16:42:11,111 - nl2sql - INFO - workflow.py:63 - SQL Generated: SELECT user_id, full_name, risk_score FROM users W...
2026-01-25 16:42:11,112 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-01-25 16:42:11,120 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-01-25 16:42:11,130 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT user_id, full_name, risk_score FROM users WHERE risk_score > 25
2026-01-25 16:42:11,140 - nl2sql - INFO - database.py:60 - Execution complete. Returned 131 rows.
2026-01-25 16:42:11,142 - nl2sql - INFO - workflow.py:92 - Query execution returned 131 rows.
2026-01-25 16:42:11,144 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a data visualization expert. Recommend th...
2026-01-25 16:42:12,278 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "chart_type": "table",
  "title": "Use...
2026-01-25 16:42:12,283 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: show me users with risk score more than 25
2026-01-25 16:42:12,288 - nl2sql - INFO - endpoints.py:48 - Query success! 131 rows returned.
2026-02-01 17:58:00,301 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-02-01 17:58:00,332 - nl2sql - INFO - main.py:12 - Starting NL2SQL Pipeline on port 8080...
2026-02-01 19:14:19,727 - nl2sql - INFO - endpoints.py:14 - Incoming query: Show regulatory compliance status | Domain: general
2026-02-01 19:14:19,794 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-02-01 19:14:19,795 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: general | Query: Show regulatory compliance status
2026-02-01 19:14:19,805 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-02-01 19:14:21,123 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 1....
2026-02-01 19:14:21,124 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 1.0) | Needs Clarification: False
2026-02-01 19:14:21,124 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 1.0) | Needs Clarification: False
2026-02-01 19:14:21,126 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-02-01 19:14:21,845 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {},
  "metadata":...
2026-02-01 19:14:21,845 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-02-01 19:14:21,847 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-02-01 19:14:21,847 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: general | Query: Show regulatory compliance status
2026-02-01 19:14:21,848 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the general d...
2026-02-01 19:14:23,044 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: Error: The database schema does not contain inform...
2026-02-01 19:14:23,044 - nl2sql - WARNING - sql_generation.py:80 - SQL Generation guidance response for query: Show regulatory compliance status | Msg: Error: The database schema does not contain inform...
2026-02-01 19:14:23,044 - nl2sql - INFO - workflow.py:63 - SQL Generated: Error: The database schema does not contain inform...
2026-02-01 19:14:23,045 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-02-01 19:14:23,049 - nl2sql - WARNING - workflow.py:71 - SQL Validation Error: Invalid expression / Unexpected token. Line 1, Col: 19.
  Error: The [4mdatabase[0m schema does not contain information about "regulatory compliance status". Try asking about: users (
2026-02-01 19:14:23,050 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a SQL expert. The following SQLite query ...
2026-02-01 19:14:26,020 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT kyc_status FROM users...
2026-02-01 19:14:26,020 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-02-01 19:14:26,022 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-02-01 19:14:26,022 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT kyc_status FROM users
2026-02-01 19:14:26,027 - nl2sql - INFO - database.py:60 - Execution complete. Returned 500 rows.
2026-02-01 19:14:26,027 - nl2sql - INFO - workflow.py:92 - Query execution returned 500 rows.
2026-02-01 19:14:26,028 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a data visualization expert. Recommend th...
2026-02-01 19:14:26,964 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "chart_type": "bar",
  "title": "Regul...
2026-02-01 19:14:26,964 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: Show regulatory compliance status
2026-02-01 19:14:26,964 - nl2sql - INFO - endpoints.py:48 - Query success! 500 rows returned.
2026-02-01 19:15:07,827 - nl2sql - INFO - endpoints.py:14 - Incoming query: Show regulatory compliance status | Domain: general
2026-02-01 19:15:07,830 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-02-01 19:15:07,830 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: general | Query: Show regulatory compliance status
2026-02-01 19:15:07,831 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-02-01 19:15:08,445 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 1....
2026-02-01 19:15:08,446 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 1.0) | Needs Clarification: False
2026-02-01 19:15:08,447 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 1.0) | Needs Clarification: False
2026-02-01 19:15:08,450 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-02-01 19:15:09,121 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {},
  "metadata":...
2026-02-01 19:15:09,122 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-02-01 19:15:09,122 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-02-01 19:15:09,123 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: general | Query: Show regulatory compliance status
2026-02-01 19:15:09,123 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the general d...
2026-02-01 19:15:11,052 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: Error: The database schema does not contain explic...
2026-02-01 19:15:11,053 - nl2sql - WARNING - sql_generation.py:80 - SQL Generation guidance response for query: Show regulatory compliance status | Msg: Error: The database schema does not contain explic...
2026-02-01 19:15:11,053 - nl2sql - INFO - workflow.py:63 - SQL Generated: Error: The database schema does not contain explic...
2026-02-01 19:15:11,053 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-02-01 19:15:11,054 - nl2sql - WARNING - workflow.py:71 - SQL Validation Error: Error tokenizing 'ut: users, kyc_status, kyc_expiry, risk_assessmen'
2026-02-01 19:15:11,054 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a SQL expert. The following SQLite query ...
2026-02-01 19:15:11,854 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT u.kyc_status, u.kyc_expiry, u.risk_assessme...
2026-02-01 19:15:11,854 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-02-01 19:15:11,856 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-02-01 19:15:11,856 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT u.kyc_status, u.kyc_expiry, u.risk_assessment FROM users u
2026-02-01 19:15:11,858 - nl2sql - ERROR - database.py:67 - DATABASE EXECUTION ERROR: (sqlite3.OperationalError) no such column: u.kyc_expiry
[SQL: SELECT u.kyc_status, u.kyc_expiry, u.risk_assessment FROM users u]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT u.kyc_status, u.kyc_expiry, u.risk_assessment FROM users u
2026-02-01 19:15:11,858 - nl2sql - INFO - workflow.py:92 - Query execution returned 0 rows.
2026-02-01 19:15:11,859 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: Show regulatory compliance status
2026-02-01 19:15:11,859 - nl2sql - INFO - endpoints.py:48 - Query success! 0 rows returned.
2026-02-01 19:15:20,956 - nl2sql - INFO - endpoints.py:14 - Incoming query: Show regulatory compliance status | Domain: general
2026-02-01 19:15:20,957 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-02-01 19:15:20,957 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: general | Query: Show regulatory compliance status
2026-02-01 19:15:20,959 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-02-01 19:15:21,851 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 1....
2026-02-01 19:15:21,851 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 1.0) | Needs Clarification: False
2026-02-01 19:15:21,852 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 1.0) | Needs Clarification: False
2026-02-01 19:15:21,854 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-02-01 19:15:22,964 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {},
  "metadata":...
2026-02-01 19:15:22,965 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-02-01 19:15:22,965 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-02-01 19:15:22,965 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: general | Query: Show regulatory compliance status
2026-02-01 19:15:22,966 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the general d...
2026-02-01 19:15:25,905 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: Error: Regulatory compliance status is not a direc...
2026-02-01 19:15:25,905 - nl2sql - WARNING - sql_generation.py:80 - SQL Generation guidance response for query: Show regulatory compliance status | Msg: Error: Regulatory compliance status is not a direc...
2026-02-01 19:15:25,905 - nl2sql - INFO - workflow.py:63 - SQL Generated: Error: Regulatory compliance status is not a direc...
2026-02-01 19:15:25,906 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-02-01 19:15:25,906 - nl2sql - WARNING - workflow.py:71 - SQL Validation Error: Invalid expression / Unexpected token. Line 1, Col: 28.
  Error: Regulatory [4mcompliance[0m status is not a directly available column. Try asking about: users (kyc_status, kyc_expiry, risk_le
2026-02-01 19:15:25,906 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a SQL expert. The following SQLite query ...
2026-02-01 19:15:26,533 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT kyc_status FROM users...
2026-02-01 19:15:26,534 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-02-01 19:15:26,535 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-02-01 19:15:26,535 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT kyc_status FROM users
2026-02-01 19:15:26,537 - nl2sql - INFO - database.py:60 - Execution complete. Returned 500 rows.
2026-02-01 19:15:26,537 - nl2sql - INFO - workflow.py:92 - Query execution returned 500 rows.
2026-02-01 19:15:26,537 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a data visualization expert. Recommend th...
2026-02-01 19:15:28,021 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "chart_type": "bar",
  "title": "Regul...
2026-02-01 19:15:28,021 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: Show regulatory compliance status
2026-02-01 19:15:28,021 - nl2sql - INFO - endpoints.py:48 - Query success! 500 rows returned.
2026-02-01 19:30:27,397 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-02-01 19:30:27,429 - nl2sql - INFO - main.py:13 - Starting NL2SQL Pipeline on port 8080...
2026-02-01 19:30:28,402 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-02-01 19:30:28,427 - nl2sql - INFO - main.py:13 - Starting NL2SQL Pipeline on port 8080...
2026-02-01 19:30:45,695 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-02-01 19:30:45,721 - nl2sql - INFO - main.py:13 - Starting NL2SQL Pipeline on port 8080...
2026-02-01 19:31:06,781 - nl2sql - INFO - endpoints.py:14 - Incoming query: Show regulatory compliance status | Domain: general
2026-02-01 19:31:06,860 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-02-01 19:31:06,860 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: general | Query: Show regulatory compliance status
2026-02-01 19:31:06,868 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-02-01 19:31:08,766 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 1....
2026-02-01 19:31:08,766 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 1.0) | Needs Clarification: False
2026-02-01 19:31:08,766 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 1.0) | Needs Clarification: False
2026-02-01 19:31:08,767 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-02-01 19:31:09,430 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {},
  "metadata":...
2026-02-01 19:31:09,430 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-02-01 19:31:09,431 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-02-01 19:31:09,431 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: general | Query: Show regulatory compliance status
2026-02-01 19:31:09,433 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the general d...
2026-02-01 19:31:10,219 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: Error: The database schema does not contain direct...
2026-02-01 19:31:10,220 - nl2sql - WARNING - sql_generation.py:80 - SQL Generation guidance response for query: Show regulatory compliance status | Msg: Error: The database schema does not contain direct...
2026-02-01 19:31:10,221 - nl2sql - INFO - workflow.py:63 - SQL Generated: Error: The database schema does not contain direct...
2026-02-01 19:31:10,223 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-02-01 19:31:10,226 - nl2sql - WARNING - workflow.py:71 - SQL Validation Error: Error tokenizing ' about: users (kyc_status, risk_level, pep_status'
2026-02-01 19:31:10,229 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a SQL expert. The following SQLite query ...
2026-02-01 19:31:10,980 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT
  kyc_status,
  risk_level,
  pep_status
FR...
2026-02-01 19:31:10,981 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-02-01 19:31:10,982 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-02-01 19:31:10,982 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT
  kyc_status,
  risk_level,
  pep_status
FROM users;
2026-02-01 19:31:10,983 - nl2sql - ERROR - database.py:67 - DATABASE EXECUTION ERROR: (sqlite3.OperationalError) no such column: pep_status
[SQL: SELECT
  kyc_status,
  risk_level,
  pep_status
FROM users;]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT
  kyc_status,
  risk_level,
  pep_status
FROM users;
2026-02-01 19:31:10,983 - nl2sql - INFO - workflow.py:92 - Query execution returned 0 rows.
2026-02-01 19:31:10,984 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: Show regulatory compliance status
2026-02-01 19:31:10,984 - nl2sql - INFO - endpoints.py:48 - Query success! 0 rows returned.
2026-02-01 19:31:45,825 - nl2sql - INFO - endpoints.py:14 - Incoming query: Pending audit items | Domain: general
2026-02-01 19:31:45,827 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-02-01 19:31:45,827 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: general | Query: Pending audit items
2026-02-01 19:31:45,828 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-02-01 19:31:46,524 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 0....
2026-02-01 19:31:46,524 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 0.9) | Needs Clarification: True
2026-02-01 19:31:46,524 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.9) | Needs Clarification: True
2026-02-01 19:31:46,525 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-02-01 19:31:47,163 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: {
  "resolved_entities": {
    "status": "OPEN"
  ...
2026-02-01 19:31:47,163 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {'status': 'OPEN'}
2026-02-01 19:31:47,166 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a helpful assistant helping clarify datab...
2026-02-01 19:31:47,917 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: Are you looking for pending items related to user ...
2026-02-01 19:31:47,918 - nl2sql - INFO - endpoints.py:24 - Graph execution status: needs_clarification for query: Pending audit items
2026-02-01 19:31:59,891 - nl2sql - INFO - endpoints.py:14 - Incoming query: login activity | Domain: general
2026-02-01 19:31:59,892 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-02-01 19:31:59,892 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: general | Query: login activity
2026-02-01 19:31:59,892 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-02-01 19:32:00,594 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 0....
2026-02-01 19:32:00,596 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 0.9) | Needs Clarification: False
2026-02-01 19:32:00,596 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.9) | Needs Clarification: False
2026-02-01 19:32:00,605 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-02-01 19:32:01,218 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: {
  "resolved_entities": {
    "resource_type": "l...
2026-02-01 19:32:01,218 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {'resource_type': 'login_events'}
2026-02-01 19:32:01,219 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-02-01 19:32:01,219 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: general | Query: login activity
2026-02-01 19:32:01,220 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the general d...
2026-02-01 19:32:01,763 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT * FROM login_events LIMIT 10;...
2026-02-01 19:32:01,763 - nl2sql - INFO - sql_generation.py:91 - SQL Generated and cleaned: SELECT * FROM login_events LIMIT 10;...
2026-02-01 19:32:01,763 - nl2sql - INFO - workflow.py:63 - SQL Generated: SELECT * FROM login_events LIMIT 10;...
2026-02-01 19:32:01,764 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-02-01 19:32:01,765 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-02-01 19:32:01,765 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT * FROM login_events LIMIT 10;
2026-02-01 19:32:01,767 - nl2sql - INFO - database.py:60 - Execution complete. Returned 10 rows.
2026-02-01 19:32:01,767 - nl2sql - INFO - workflow.py:92 - Query execution returned 10 rows.
2026-02-01 19:32:01,767 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a data visualization expert. Recommend th...
2026-02-01 19:32:03,049 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "chart_type": "table",
  "title": "Log...
2026-02-01 19:32:03,049 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: login activity
2026-02-01 19:32:03,050 - nl2sql - INFO - endpoints.py:48 - Query success! 10 rows returned.
2026-02-01 19:33:04,964 - nl2sql - INFO - endpoints.py:14 - Incoming query: Give a distribution of high risk users | Domain: general
2026-02-01 19:33:04,970 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-02-01 19:33:04,970 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: general | Query: Give a distribution of high risk users
2026-02-01 19:33:04,981 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-02-01 19:33:05,693 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 0....
2026-02-01 19:33:05,693 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 0.9) | Needs Clarification: False
2026-02-01 19:33:05,693 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.9) | Needs Clarification: False
2026-02-01 19:33:05,694 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-02-01 19:33:06,314 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {
    "risk_level...
2026-02-01 19:33:06,314 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {'risk_level': 'HIGH'}
2026-02-01 19:33:06,315 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-02-01 19:33:06,315 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: general | Query: Give a distribution of high risk users
2026-02-01 19:33:06,316 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the general d...
2026-02-01 19:33:07,021 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT risk_level, COUNT(user_id) AS user_count FR...
2026-02-01 19:33:07,022 - nl2sql - INFO - sql_generation.py:91 - SQL Generated and cleaned: SELECT risk_level, COUNT(user_id) AS user_count FR...
2026-02-01 19:33:07,022 - nl2sql - INFO - workflow.py:63 - SQL Generated: SELECT risk_level, COUNT(user_id) AS user_count FR...
2026-02-01 19:33:07,022 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-02-01 19:33:07,024 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-02-01 19:33:07,024 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT risk_level, COUNT(user_id) AS user_count FROM users WHERE risk_level = 'HIGH' GROUP BY risk_level
2026-02-01 19:33:07,027 - nl2sql - INFO - database.py:60 - Execution complete. Returned 1 rows.
2026-02-01 19:33:07,027 - nl2sql - INFO - workflow.py:92 - Query execution returned 1 rows.
2026-02-01 19:33:07,027 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a data visualization expert. Recommend th...
2026-02-01 19:33:07,900 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "chart_type": "bar",
  "title": "Distr...
2026-02-01 19:33:07,900 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: Give a distribution of high risk users
2026-02-01 19:33:07,900 - nl2sql - INFO - endpoints.py:48 - Query success! 1 rows returned.
2026-02-01 19:34:55,901 - nl2sql - INFO - endpoints.py:14 - Incoming query: Give a distribution of high risk users | Domain: general
2026-02-01 19:34:55,909 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-02-01 19:34:55,909 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: general | Query: Give a distribution of high risk users
2026-02-01 19:34:55,910 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-02-01 19:34:56,541 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 1....
2026-02-01 19:34:56,541 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 1.0) | Needs Clarification: False
2026-02-01 19:34:56,541 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 1.0) | Needs Clarification: False
2026-02-01 19:34:56,542 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-02-01 19:34:57,898 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: {
  "resolved_entities": {
    "risk_assessment.le...
2026-02-01 19:34:57,898 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {'risk_assessment.level': 'HIGH'}
2026-02-01 19:34:57,899 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-02-01 19:34:57,899 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: general | Query: Give a distribution of high risk users
2026-02-01 19:34:57,899 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the general d...
2026-02-01 19:34:58,535 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT risk_level, COUNT(user_id) FROM users WHERE...
2026-02-01 19:34:58,536 - nl2sql - INFO - sql_generation.py:91 - SQL Generated and cleaned: SELECT risk_level, COUNT(user_id) FROM users WHERE...
2026-02-01 19:34:58,536 - nl2sql - INFO - workflow.py:63 - SQL Generated: SELECT risk_level, COUNT(user_id) FROM users WHERE...
2026-02-01 19:34:58,536 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-02-01 19:34:58,538 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-02-01 19:34:58,538 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT risk_level, COUNT(user_id) FROM users WHERE risk_level = 'HIGH' GROUP BY risk_level
2026-02-01 19:34:58,541 - nl2sql - INFO - database.py:60 - Execution complete. Returned 1 rows.
2026-02-01 19:34:58,541 - nl2sql - INFO - workflow.py:92 - Query execution returned 1 rows.
2026-02-01 19:34:58,542 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a data visualization expert. Recommend th...
2026-02-01 19:34:59,617 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "chart_type": "bar",
  "title": "Distr...
2026-02-01 19:34:59,617 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: Give a distribution of high risk users
2026-02-01 19:34:59,617 - nl2sql - INFO - endpoints.py:48 - Query success! 1 rows returned.
2026-02-01 19:35:26,146 - nl2sql - INFO - endpoints.py:14 - Incoming query: Give me a distribution of risk levels | Domain: general
2026-02-01 19:35:26,147 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-02-01 19:35:26,147 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: general | Query: Give me a distribution of risk levels
2026-02-01 19:35:26,148 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-02-01 19:35:26,723 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 1....
2026-02-01 19:35:26,723 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 1.0) | Needs Clarification: False
2026-02-01 19:35:26,723 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 1.0) | Needs Clarification: False
2026-02-01 19:35:26,724 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-02-01 19:35:27,898 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {},
  "metadata":...
2026-02-01 19:35:27,898 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-02-01 19:35:27,899 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-02-01 19:35:27,899 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: general | Query: Give me a distribution of risk levels
2026-02-01 19:35:27,899 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the general d...
2026-02-01 19:35:28,455 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT risk_level, COUNT(user_id) AS user_count FR...
2026-02-01 19:35:28,455 - nl2sql - INFO - sql_generation.py:91 - SQL Generated and cleaned: SELECT risk_level, COUNT(user_id) AS user_count FR...
2026-02-01 19:35:28,455 - nl2sql - INFO - workflow.py:63 - SQL Generated: SELECT risk_level, COUNT(user_id) AS user_count FR...
2026-02-01 19:35:28,455 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-02-01 19:35:28,456 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-02-01 19:35:28,457 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT risk_level, COUNT(user_id) AS user_count FROM users GROUP BY risk_level;
2026-02-01 19:35:28,459 - nl2sql - INFO - database.py:60 - Execution complete. Returned 3 rows.
2026-02-01 19:35:28,459 - nl2sql - INFO - workflow.py:92 - Query execution returned 3 rows.
2026-02-01 19:35:28,460 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a data visualization expert. Recommend th...
2026-02-01 19:35:29,897 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "chart_type": "bar",
  "title": "Distr...
2026-02-01 19:35:29,897 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: Give me a distribution of risk levels
2026-02-01 19:35:29,897 - nl2sql - INFO - endpoints.py:48 - Query success! 3 rows returned.
2026-02-01 19:37:39,273 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-02-01 19:37:39,297 - nl2sql - INFO - main.py:13 - Starting NL2SQL Pipeline on port 8080...
2026-02-01 19:38:00,606 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-02-01 19:38:00,634 - nl2sql - INFO - main.py:13 - Starting NL2SQL Pipeline on port 8080...
2026-02-01 19:40:48,615 - nl2sql - INFO - endpoints.py:14 - Incoming query: Give me a distribution of risk of users | Domain: general
2026-02-01 19:40:48,625 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-02-01 19:40:48,626 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: general | Query: Give me a distribution of risk of users
2026-02-01 19:40:48,649 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-02-01 19:40:50,674 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 0....
2026-02-01 19:40:50,674 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 0.9) | Needs Clarification: True
2026-02-01 19:40:50,674 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.9) | Needs Clarification: True
2026-02-01 19:40:50,675 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-02-01 19:40:53,610 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {
    "risk_asses...
2026-02-01 19:40:53,610 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {'risk_assessment.level': ['LOW', 'MEDIUM', 'HIGH']}
2026-02-01 19:40:53,612 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a helpful assistant helping clarify datab...
2026-02-01 19:40:54,281 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: Could you please specify what criteria you'd like ...
2026-02-01 19:40:54,281 - nl2sql - INFO - endpoints.py:24 - Graph execution status: needs_clarification for query: Give me a distribution of risk of users
2026-02-01 19:41:05,149 - nl2sql - INFO - endpoints.py:14 - Incoming query: Users have a risk factor | Domain: general
2026-02-01 19:41:05,150 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-02-01 19:41:05,150 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: general | Query: Users have a risk factor
2026-02-01 19:41:05,150 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-02-01 19:41:05,814 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 0....
2026-02-01 19:41:05,814 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 0.9) | Needs Clarification: False
2026-02-01 19:41:05,814 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.9) | Needs Clarification: False
2026-02-01 19:41:05,814 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-02-01 19:41:06,438 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {},
  "metadata":...
2026-02-01 19:41:06,438 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-02-01 19:41:06,439 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-02-01 19:41:06,439 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: general | Query: Users have a risk factor
2026-02-01 19:41:06,440 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the general d...
2026-02-01 19:41:07,130 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: Error: The request "Users have a risk factor" is t...
2026-02-01 19:41:07,130 - nl2sql - WARNING - sql_generation.py:80 - SQL Generation guidance response for query: Users have a risk factor | Msg: Error: The request "Users have a risk factor" is t...
2026-02-01 19:41:07,130 - nl2sql - INFO - workflow.py:63 - SQL Generated: Error: The request "Users have a risk factor" is t...
2026-02-01 19:41:07,131 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-02-01 19:41:07,133 - nl2sql - WARNING - workflow.py:71 - SQL Validation Error: Invalid expression / Unexpected token. Line 1, Col: 18.
  Error: The [4mrequest[0m "Users have a risk factor" is too vague. Please specify what information you need about the risk fa
2026-02-01 19:41:07,134 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a SQL expert. The following SQLite query ...
2026-02-01 19:41:07,649 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT * FROM users WHERE risk_level IS NOT NULL O...
2026-02-01 19:41:07,649 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-02-01 19:41:07,651 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-02-01 19:41:07,651 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT * FROM users WHERE risk_level IS NOT NULL OR risk_score IS NOT NULL
2026-02-01 19:41:07,656 - nl2sql - INFO - database.py:60 - Execution complete. Returned 500 rows.
2026-02-01 19:41:07,656 - nl2sql - INFO - workflow.py:92 - Query execution returned 500 rows.
2026-02-01 19:41:07,656 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a data visualization expert. Recommend th...
2026-02-01 19:41:08,514 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "chart_type": "bar",
  "title": "Distr...
2026-02-01 19:41:08,515 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: Users have a risk factor
2026-02-01 19:41:08,515 - nl2sql - INFO - endpoints.py:48 - Query success! 500 rows returned.
2026-02-01 19:41:16,195 - nl2sql - INFO - endpoints.py:14 - Incoming query: Try again | Domain: general
2026-02-01 19:41:16,196 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-02-01 19:41:16,196 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: general | Query: Try again
2026-02-01 19:41:16,196 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-02-01 19:41:16,787 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "UNKNOWN",
  "confidence": 0...
2026-02-01 19:41:16,787 - nl2sql - INFO - intent_classification.py:82 - Classification Result: UNKNOWN (conf: 0.8) | Needs Clarification: False
2026-02-01 19:41:16,787 - nl2sql - INFO - workflow.py:24 - Intent classified: UNKNOWN (conf: 0.8) | Needs Clarification: False
2026-02-01 19:41:16,788 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-02-01 19:41:17,391 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {},
  "metadata":...
2026-02-01 19:41:17,391 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-02-01 19:41:17,392 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-02-01 19:41:17,392 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: general | Query: Try again
2026-02-01 19:41:17,392 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the general d...
2026-02-01 19:41:18,092 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT rule_name, severity, status, created_at FRO...
2026-02-01 19:41:18,093 - nl2sql - INFO - sql_generation.py:91 - SQL Generated and cleaned: SELECT rule_name, severity, status, created_at FRO...
2026-02-01 19:41:18,093 - nl2sql - INFO - workflow.py:63 - SQL Generated: SELECT rule_name, severity, status, created_at FRO...
2026-02-01 19:41:18,093 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-02-01 19:41:18,094 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-02-01 19:41:18,094 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT rule_name, severity, status, created_at FROM alerts WHERE status = 'OPEN' AND severity = 'HIGH' ORDER BY created_at DESC;
2026-02-01 19:41:18,096 - nl2sql - INFO - database.py:60 - Execution complete. Returned 32 rows.
2026-02-01 19:41:18,096 - nl2sql - INFO - workflow.py:92 - Query execution returned 32 rows.
2026-02-01 19:41:18,096 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a data visualization expert. Recommend th...
2026-02-01 19:41:19,065 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "chart_type": "table",
  "title": "Ope...
2026-02-01 19:41:19,065 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: Try again
2026-02-01 19:41:19,065 - nl2sql - INFO - endpoints.py:48 - Query success! 32 rows returned.
2026-02-01 19:41:28,373 - nl2sql - INFO - endpoints.py:14 - Incoming query: Give me a distribution of risk of users | Domain: general
2026-02-01 19:41:28,374 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-02-01 19:41:28,374 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: general | Query: Give me a distribution of risk of users
2026-02-01 19:41:28,375 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-02-01 19:41:29,021 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 0....
2026-02-01 19:41:29,021 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 0.9) | Needs Clarification: True
2026-02-01 19:41:29,021 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.9) | Needs Clarification: True
2026-02-01 19:41:29,021 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-02-01 19:41:30,436 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: {
  "resolved_entities": {
    "risk_assessment.le...
2026-02-01 19:41:30,437 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {'risk_assessment.level': ['LOW', 'MEDIUM', 'HIGH']}
2026-02-01 19:41:30,437 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a helpful assistant helping clarify datab...
2026-02-01 19:41:31,195 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: Could you tell me what criteria you'd like to use ...
2026-02-01 19:41:31,196 - nl2sql - INFO - endpoints.py:24 - Graph execution status: needs_clarification for query: Give me a distribution of risk of users
2026-02-01 19:41:42,508 - nl2sql - INFO - endpoints.py:14 - Incoming query: High transactions | Domain: general
2026-02-01 19:41:42,508 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-02-01 19:41:42,508 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: general | Query: High transactions
2026-02-01 19:41:42,509 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-02-01 19:41:43,091 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 0....
2026-02-01 19:41:43,091 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 0.9) | Needs Clarification: True
2026-02-01 19:41:43,092 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.9) | Needs Clarification: True
2026-02-01 19:41:43,092 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-02-01 19:41:43,712 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {
    "transactio...
2026-02-01 19:41:43,712 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {'transaction_type': 'DEPOSIT', 'status': 'PROCESSING'}
2026-02-01 19:41:43,713 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a helpful assistant helping clarify datab...
2026-02-01 19:41:44,689 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: By what metric would you like to define "high tran...
2026-02-01 19:41:44,690 - nl2sql - INFO - endpoints.py:24 - Graph execution status: needs_clarification for query: High transactions
2026-02-01 19:42:01,573 - nl2sql - INFO - endpoints.py:14 - Incoming query: total value | Domain: general
2026-02-01 19:42:01,574 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-02-01 19:42:01,574 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: general | Query: total value
2026-02-01 19:42:01,574 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-02-01 19:42:02,470 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 1....
2026-02-01 19:42:02,470 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 1.0) | Needs Clarification: True
2026-02-01 19:42:02,470 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 1.0) | Needs Clarification: True
2026-02-01 19:42:02,471 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-02-01 19:42:03,629 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: {
  "resolved_entities": {},
  "metadata": {
    "...
2026-02-01 19:42:03,629 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-02-01 19:42:03,629 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a helpful assistant helping clarify datab...
2026-02-01 19:42:04,252 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: Are you looking for the total value of transaction...
2026-02-01 19:42:04,252 - nl2sql - INFO - endpoints.py:24 - Graph execution status: needs_clarification for query: total value
2026-02-01 19:42:21,488 - nl2sql - INFO - endpoints.py:14 - Incoming query: value of transaction  | Domain: general
2026-02-01 19:42:21,489 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-02-01 19:42:21,489 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: general | Query: value of transaction 
2026-02-01 19:42:21,489 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-02-01 19:42:22,412 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 0....
2026-02-01 19:42:22,412 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 0.8) | Needs Clarification: True
2026-02-01 19:42:22,412 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.8) | Needs Clarification: True
2026-02-01 19:42:22,413 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-02-01 19:42:23,207 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {},
  "metadata":...
2026-02-01 19:42:23,208 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-02-01 19:42:23,208 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a helpful assistant helping clarify datab...
2026-02-01 19:42:23,824 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: Are you looking for the total value of all transac...
2026-02-01 19:42:23,824 - nl2sql - INFO - endpoints.py:24 - Graph execution status: needs_clarification for query: value of transaction 
2026-02-01 19:42:34,278 - nl2sql - INFO - endpoints.py:14 - Incoming query: total value | Domain: general
2026-02-01 19:42:34,279 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-02-01 19:42:34,279 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: general | Query: total value
2026-02-01 19:42:34,279 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-02-01 19:42:35,336 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 0....
2026-02-01 19:42:35,336 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 0.8) | Needs Clarification: True
2026-02-01 19:42:35,336 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.8) | Needs Clarification: True
2026-02-01 19:42:35,337 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-02-01 19:42:35,984 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: {
  "resolved_entities": {},
  "metadata": {
    "...
2026-02-01 19:42:35,984 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-02-01 19:42:35,985 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a helpful assistant helping clarify datab...
2026-02-01 19:42:36,775 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: Are you looking for the total value of all transac...
2026-02-01 19:42:36,776 - nl2sql - INFO - endpoints.py:24 - Graph execution status: needs_clarification for query: total value
2026-02-01 19:42:45,539 - nl2sql - INFO - endpoints.py:14 - Incoming query: value of all transactions, | Domain: general
2026-02-01 19:42:45,540 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-02-01 19:42:45,540 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: general | Query: value of all transactions,
2026-02-01 19:42:45,540 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-02-01 19:42:46,112 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 1....
2026-02-01 19:42:46,112 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 1.0) | Needs Clarification: True
2026-02-01 19:42:46,112 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 1.0) | Needs Clarification: True
2026-02-01 19:42:46,113 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-02-01 19:42:46,650 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "resolved_entities": {},
  "metadata":...
2026-02-01 19:42:46,650 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-02-01 19:42:46,651 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a helpful assistant helping clarify datab...
2026-02-01 19:42:47,893 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: Could you please specify the time period for which...
2026-02-01 19:42:47,893 - nl2sql - INFO - endpoints.py:24 - Graph execution status: needs_clarification for query: value of all transactions,
2026-02-01 19:42:54,584 - nl2sql - INFO - endpoints.py:14 - Incoming query: last 6 months | Domain: general
2026-02-01 19:42:54,585 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-02-01 19:42:54,585 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: general | Query: last 6 months
2026-02-01 19:42:54,586 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-02-01 19:42:55,266 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 0....
2026-02-01 19:42:55,266 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 0.8) | Needs Clarification: False
2026-02-01 19:42:55,266 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.8) | Needs Clarification: False
2026-02-01 19:42:55,267 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-02-01 19:42:55,866 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: {
  "resolved_entities": {},
  "metadata": {
    "...
2026-02-01 19:42:55,866 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-02-01 19:42:55,867 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-02-01 19:42:55,867 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: general | Query: last 6 months
2026-02-01 19:42:55,867 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the general d...
2026-02-01 19:42:57,894 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: Error: Please specify what information you are loo...
2026-02-01 19:42:57,894 - nl2sql - WARNING - sql_generation.py:80 - SQL Generation guidance response for query: last 6 months | Msg: Error: Please specify what information you are loo...
2026-02-01 19:42:57,894 - nl2sql - INFO - workflow.py:63 - SQL Generated: Error: Please specify what information you are loo...
2026-02-01 19:42:57,895 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-02-01 19:42:57,896 - nl2sql - WARNING - workflow.py:71 - SQL Validation Error: Invalid expression / Unexpected token. Line 1, Col: 21.
  Error: Please [4mspecify[0m what information you are looking for in the last 6 months. Try asking about: transactions, login_ev
2026-02-01 19:42:57,896 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a SQL expert. The following SQLite query ...
2026-02-01 19:42:58,892 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT * FROM login_events WHERE timestamp >= date...
2026-02-01 19:42:58,893 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-02-01 19:42:58,894 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-02-01 19:42:58,894 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT * FROM login_events WHERE timestamp >= date('now', '-6 months')
2026-02-01 19:42:58,895 - nl2sql - ERROR - database.py:67 - DATABASE EXECUTION ERROR: (sqlite3.OperationalError) no such column: timestamp
[SQL: SELECT * FROM login_events WHERE timestamp >= date('now', '-6 months')]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT * FROM login_events WHERE timestamp >= date('now', '-6 months')
2026-02-01 19:42:58,895 - nl2sql - INFO - workflow.py:92 - Query execution returned 0 rows.
2026-02-01 19:42:58,896 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: last 6 months
2026-02-01 19:42:58,896 - nl2sql - INFO - endpoints.py:48 - Query success! 0 rows returned.
2026-02-01 19:43:11,637 - nl2sql - INFO - endpoints.py:14 - Incoming query: Give me the risk distribution | Domain: general
2026-02-01 19:43:11,639 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-02-01 19:43:11,639 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: general | Query: Give me the risk distribution
2026-02-01 19:43:11,639 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-02-01 19:43:12,516 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 1....
2026-02-01 19:43:12,516 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 1.0) | Needs Clarification: False
2026-02-01 19:43:12,516 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 1.0) | Needs Clarification: False
2026-02-01 19:43:12,517 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-02-01 19:43:13,653 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: {
  "resolved_entities": {},
  "metadata": {
    "...
2026-02-01 19:43:13,653 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-02-01 19:43:13,654 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-02-01 19:43:13,654 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: general | Query: Give me the risk distribution
2026-02-01 19:43:13,654 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the general d...
2026-02-01 19:43:14,574 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT
  risk_level,
  COUNT(user_id) AS user_coun...
2026-02-01 19:43:14,574 - nl2sql - INFO - sql_generation.py:91 - SQL Generated and cleaned: SELECT
  risk_level,
  COUNT(user_id) AS user_coun...
2026-02-01 19:43:14,574 - nl2sql - INFO - workflow.py:63 - SQL Generated: SELECT
  risk_level,
  COUNT(user_id) AS user_coun...
2026-02-01 19:43:14,574 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-02-01 19:43:14,575 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-02-01 19:43:14,575 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT
  risk_level,
  COUNT(user_id) AS user_count
FROM users
GROUP BY
  risk_level
ORDER BY
  user_count DESC;
2026-02-01 19:43:14,578 - nl2sql - INFO - database.py:60 - Execution complete. Returned 3 rows.
2026-02-01 19:43:14,578 - nl2sql - INFO - workflow.py:92 - Query execution returned 3 rows.
2026-02-01 19:43:14,578 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a data visualization expert. Recommend th...
2026-02-01 19:43:15,471 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "chart_type": "bar",
  "title": "Distr...
2026-02-01 19:43:15,472 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: Give me the risk distribution
2026-02-01 19:43:15,472 - nl2sql - INFO - endpoints.py:48 - Query success! 3 rows returned.
2026-02-01 19:43:29,019 - nl2sql - INFO - endpoints.py:14 - Incoming query: Give me the risk distribution | Domain: general
2026-02-01 19:43:29,020 - nl2sql - INFO - workflow.py:16 - Node: [classify_intent]
2026-02-01 19:43:29,020 - nl2sql - INFO - intent_classification.py:15 - Classifying intent for domain: general | Query: Give me the risk distribution
2026-02-01 19:43:29,021 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an AI assistant for a Database system.
Yo...
2026-02-01 19:43:30,032 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "intent": "SELECT",
  "confidence": 0....
2026-02-01 19:43:30,033 - nl2sql - INFO - intent_classification.py:82 - Classification Result: SELECT (conf: 0.9) | Needs Clarification: False
2026-02-01 19:43:30,033 - nl2sql - INFO - workflow.py:24 - Intent classified: SELECT (conf: 0.9) | Needs Clarification: False
2026-02-01 19:43:30,034 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a Precise Entity Extractor and Resolver.
...
2026-02-01 19:43:30,609 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: {
  "resolved_entities": {},
  "metadata": {
    "...
2026-02-01 19:43:30,609 - nl2sql - INFO - entity_extractor.py:82 - Entities Extracted/Resolved: {}
2026-02-01 19:43:30,609 - nl2sql - INFO - workflow.py:54 - Node: [generate_sql]
2026-02-01 19:43:30,609 - nl2sql - INFO - sql_generation.py:25 - Generating SQL for domain: general | Query: Give me the risk distribution
2026-02-01 19:43:30,610 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are an expert SQL assistant for the general d...
2026-02-01 19:43:31,167 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: SELECT
  risk_level,
  COUNT(*) AS user_count
FROM...
2026-02-01 19:43:31,167 - nl2sql - INFO - sql_generation.py:91 - SQL Generated and cleaned: SELECT
  risk_level,
  COUNT(*) AS user_count
FROM...
2026-02-01 19:43:31,167 - nl2sql - INFO - workflow.py:63 - SQL Generated: SELECT
  risk_level,
  COUNT(*) AS user_count
FROM...
2026-02-01 19:43:31,167 - nl2sql - INFO - workflow.py:67 - Node: [validate_sql]
2026-02-01 19:43:31,168 - nl2sql - INFO - workflow.py:88 - Node: [execute_query]
2026-02-01 19:43:31,168 - nl2sql - INFO - database.py:53 - Executing SQL: SELECT
  risk_level,
  COUNT(*) AS user_count
FROM users
GROUP BY
  risk_level;
2026-02-01 19:43:31,169 - nl2sql - INFO - database.py:60 - Execution complete. Returned 3 rows.
2026-02-01 19:43:31,169 - nl2sql - INFO - workflow.py:92 - Query execution returned 3 rows.
2026-02-01 19:43:31,170 - nl2sql - INFO - llm.py:44 - LLM [gemini] generating response for prompt snippet: 
You are a data visualization expert. Recommend th...
2026-02-01 19:43:32,150 - nl2sql - INFO - llm.py:55 - LLM response received. Snippet: ```json
{
  "chart_type": "bar",
  "title": "User ...
2026-02-01 19:43:32,151 - nl2sql - INFO - endpoints.py:24 - Graph execution status: success for query: Give me the risk distribution
2026-02-01 19:43:32,151 - nl2sql - INFO - endpoints.py:48 - Query success! 3 rows returned.
2026-02-01 19:46:28,040 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-02-01 19:46:28,065 - nl2sql - INFO - main.py:13 - Starting NL2SQL Pipeline on port 8080...
2026-02-01 19:46:43,953 - nl2sql - INFO - database.py:10 - DatabaseService initialized with engine: ./derivinsight_fixed.db
2026-02-01 19:46:43,981 - nl2sql - INFO - main.py:13 - Starting NL2SQL Pipeline on port 8080...
